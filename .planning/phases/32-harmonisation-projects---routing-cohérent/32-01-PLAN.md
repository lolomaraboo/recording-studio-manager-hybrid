---
phase: 32-harmonisation-projects---routing-cohérent
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/client/src/components/ProjectEditForm.tsx (new file)
  - packages/client/src/pages/ProjectCreate.tsx
autonomous: true

must_haves:
  truths:
    - "Edit mode uses accordion pattern like TalentEditForm"
    - "Inline form in ProjectCreate replaced with accordion component"
    - "Accordions open by default for immediate field access"
    - "Form structure matches project context (all 20+ project fields organized)"
  artifacts:
    - path: "packages/client/src/components/ProjectEditForm.tsx"
      provides: "Accordion-based edit form for projects"
      min_lines: 600
      exports: ["ProjectEditForm"]
    - path: "packages/client/src/pages/ProjectCreate.tsx"
      provides: "Simplified creation page using ProjectEditForm"
      min_lines: 120
      contains: "ProjectEditForm"
  key_links:
    - from: "ProjectCreate.tsx"
      to: "ProjectEditForm"
      via: "reusable component for creation"
      pattern: "ProjectEditForm"
    - from: "ProjectEditForm"
      to: "formData state"
      via: "controlled inputs"
      pattern: "formData.*setFormData"
---

<objective>
Create accordion-based ProjectEditForm matching TalentEditForm harmonization from Phase 28-05.

Purpose: Complete Phase 32 harmonization by replacing inline form with accordion pattern
Output: ProjectEditForm component with 5 accordions covering all 20+ project fields
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Reference implementations (TALENT patterns - COMPLEX FORMS)
@.planning/phases/28-harmonisation-ui-talents/28-05-PLAN.md (accordion pattern reference for complex forms)
@packages/client/src/components/TalentEditForm.tsx (5 accordions pattern)

# Current project implementation
@packages/client/src/pages/ProjectCreate.tsx (inline form - to be replaced)
@packages/database/src/tenant/schema.ts (lines 342-386: projects schema - 20+ fields)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create ProjectEditForm component with 5 accordions</name>
  <files>packages/client/src/components/ProjectEditForm.tsx</files>
  <action>
**Pattern reference:** TalentEditForm.tsx (5 accordions, all open by default, organized sections)

**Project has MORE fields than Talent (20+ vs 10), needs careful organization into 5 accordions:**

1. **Accordion 1: Informations de Base** (client, name, artistName, type, status)
2. **Accordion 2: Description & Genre** (description, genre, budget, label, catalogNumber)
3. **Accordion 3: Calendrier** (startDate, targetDeliveryDate, actualDeliveryDate, endDate)
4. **Accordion 4: Production & Stockage** (trackCount, totalCost, coverArtUrl, storageLocation, storageSize)
5. **Accordion 5: Plateformes & Notes** (spotifyUrl, appleMusicUrl, notes, technicalNotes)

**Create accordion-based edit form for projects:**

```typescript
import { useState, useEffect } from "react";
import { Button } from "@/components/ui/button";
import { Card } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Textarea } from "@/components/ui/textarea";
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select";
import {
  Accordion,
  AccordionContent,
  AccordionItem,
  AccordionTrigger,
} from "@/components/ui/accordion";
import {
  Music,
  FileText,
  Calendar,
  Database,
  Radio,
} from "lucide-react";
import { trpc } from "@/lib/trpc";

interface ProjectEditFormProps {
  formData: any;
  setFormData: (data: any) => void;
}

export function ProjectEditForm({
  formData,
  setFormData,
}: ProjectEditFormProps) {
  // Fetch related data
  const { data: clients } = trpc.clients.list.useQuery({ limit: 100 });

  // State for open accordions (all open by default)
  const [openItems, setOpenItems] = useState<string[]>(() => {
    try {
      const saved = localStorage.getItem('projectEditAccordions');
      return saved ? JSON.parse(saved) : [
        "informations-base",
        "description-genre",
        "calendrier",
        "production-stockage",
        "plateformes-notes"
      ];
    } catch {
      return [
        "informations-base",
        "description-genre",
        "calendrier",
        "production-stockage",
        "plateformes-notes"
      ];
    }
  });

  // Save accordion state to localStorage
  useEffect(() => {
    try {
      localStorage.setItem('projectEditAccordions', JSON.stringify(openItems));
    } catch (error) {
      console.error('Failed to save accordion state:', error);
    }
  }, [openItems]);

  // Alt key handler to toggle all accordions
  const handleAccordionTriggerClick = (event: React.MouseEvent) => {
    if (event.altKey) {
      event.preventDefault();
      event.stopPropagation();

      const allAccordions = [
        "informations-base",
        "description-genre",
        "calendrier",
        "production-stockage",
        "plateformes-notes"
      ];
      if (openItems.length < allAccordions.length) {
        setOpenItems(allAccordions);
      } else {
        setOpenItems([]);
      }
    }
  };

  return (
    <Accordion
      type="multiple"
      value={openItems}
      onValueChange={setOpenItems}
      className="space-y-2"
    >
      {/* Accordion 1: Informations de Base */}
      <AccordionItem value="informations-base">
        <Card>
          <AccordionTrigger className="px-4 py-3 hover:no-underline" onClick={handleAccordionTriggerClick}>
            <h3 className="text-lg font-semibold flex items-center gap-2">
              <Music className="h-5 w-5 text-primary" />
              Informations de Base
            </h3>
          </AccordionTrigger>
          <AccordionContent>
            <div className="px-4 pb-3 space-y-3">
              {/* Client */}
              <div>
                <Label htmlFor="clientId">
                  Client <span className="text-destructive">*</span>
                </Label>
                <Select
                  value={formData.clientId?.toString() || ""}
                  onValueChange={(value) => setFormData({ ...formData, clientId: parseInt(value) })}
                >
                  <SelectTrigger id="clientId" className="mt-1">
                    <SelectValue placeholder="Sélectionner un client" />
                  </SelectTrigger>
                  <SelectContent>
                    {clients?.map((client) => (
                      <SelectItem key={client.id} value={client.id.toString()}>
                        {client.name}
                      </SelectItem>
                    ))}
                  </SelectContent>
                </Select>
              </div>

              {/* Name */}
              <div>
                <Label htmlFor="name">
                  Nom du projet <span className="text-destructive">*</span>
                </Label>
                <Input
                  id="name"
                  className="mt-1"
                  value={formData.name || ""}
                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}
                  placeholder="Ex: Album 2024"
                />
              </div>

              {/* Artist Name */}
              <div>
                <Label htmlFor="artistName">Nom d'artiste</Label>
                <Input
                  id="artistName"
                  className="mt-1"
                  value={formData.artistName || ""}
                  onChange={(e) => setFormData({ ...formData, artistName: e.target.value })}
                  placeholder="Ex: The Band"
                />
              </div>

              {/* Type & Status */}
              <div className="grid md:grid-cols-2 gap-3">
                <div>
                  <Label htmlFor="type">Type</Label>
                  <Select
                    value={formData.type || "album"}
                    onValueChange={(value) => setFormData({ ...formData, type: value })}
                  >
                    <SelectTrigger id="type" className="mt-1">
                      <SelectValue />
                    </SelectTrigger>
                    <SelectContent>
                      <SelectItem value="album">Album</SelectItem>
                      <SelectItem value="ep">EP</SelectItem>
                      <SelectItem value="single">Single</SelectItem>
                      <SelectItem value="demo">Demo</SelectItem>
                      <SelectItem value="soundtrack">Soundtrack</SelectItem>
                      <SelectItem value="podcast">Podcast</SelectItem>
                    </SelectContent>
                  </Select>
                </div>

                <div>
                  <Label htmlFor="status">Statut</Label>
                  <Select
                    value={formData.status || "pre_production"}
                    onValueChange={(value) => setFormData({ ...formData, status: value })}
                  >
                    <SelectTrigger id="status" className="mt-1">
                      <SelectValue />
                    </SelectTrigger>
                    <SelectContent>
                      <SelectItem value="pre_production">Pré-production</SelectItem>
                      <SelectItem value="recording">Enregistrement</SelectItem>
                      <SelectItem value="editing">Édition</SelectItem>
                      <SelectItem value="mixing">Mixage</SelectItem>
                      <SelectItem value="mastering">Mastering</SelectItem>
                      <SelectItem value="completed">Terminé</SelectItem>
                      <SelectItem value="delivered">Livré</SelectItem>
                      <SelectItem value="archived">Archivé</SelectItem>
                    </SelectContent>
                  </Select>
                </div>
              </div>
            </div>
          </AccordionContent>
        </Card>
      </AccordionItem>

      {/* Accordion 2: Description & Genre */}
      <AccordionItem value="description-genre">
        <Card>
          <AccordionTrigger className="px-4 py-3 hover:no-underline" onClick={handleAccordionTriggerClick}>
            <h3 className="text-lg font-semibold flex items-center gap-2">
              <FileText className="h-5 w-5 text-primary" />
              Description & Genre
            </h3>
          </AccordionTrigger>
          <AccordionContent>
            <div className="px-4 pb-3 space-y-3">
              {/* Description */}
              <div>
                <Label htmlFor="description">Description</Label>
                <Textarea
                  id="description"
                  className="mt-1 min-h-[80px]"
                  value={formData.description || ""}
                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}
                  placeholder="Description du projet..."
                />
              </div>

              {/* Genre & Budget */}
              <div className="grid md:grid-cols-2 gap-3">
                <div>
                  <Label htmlFor="genre">Genre</Label>
                  <Input
                    id="genre"
                    className="mt-1"
                    value={formData.genre || ""}
                    onChange={(e) => setFormData({ ...formData, genre: e.target.value })}
                    placeholder="Ex: Rock"
                  />
                </div>

                <div>
                  <Label htmlFor="budget">Budget (€)</Label>
                  <Input
                    id="budget"
                    type="text"
                    className="mt-1"
                    value={formData.budget || ""}
                    onChange={(e) => setFormData({ ...formData, budget: e.target.value })}
                    placeholder="5000"
                  />
                </div>
              </div>

              {/* Label & Catalog Number */}
              <div className="grid md:grid-cols-2 gap-3">
                <div>
                  <Label htmlFor="label">Label</Label>
                  <Input
                    id="label"
                    className="mt-1"
                    value={formData.label || ""}
                    onChange={(e) => setFormData({ ...formData, label: e.target.value })}
                    placeholder="Ex: Universal Music"
                  />
                </div>

                <div>
                  <Label htmlFor="catalogNumber">Numéro de catalogue</Label>
                  <Input
                    id="catalogNumber"
                    className="mt-1"
                    value={formData.catalogNumber || ""}
                    onChange={(e) => setFormData({ ...formData, catalogNumber: e.target.value })}
                    placeholder="CAT-2024-001"
                  />
                </div>
              </div>
            </div>
          </AccordionContent>
        </Card>
      </AccordionItem>

      {/* Accordion 3: Calendrier */}
      <AccordionItem value="calendrier">
        <Card>
          <AccordionTrigger className="px-4 py-3 hover:no-underline" onClick={handleAccordionTriggerClick}>
            <h3 className="text-lg font-semibold flex items-center gap-2">
              <Calendar className="h-5 w-5 text-primary" />
              Calendrier
            </h3>
          </AccordionTrigger>
          <AccordionContent>
            <div className="px-4 pb-3 space-y-3">
              <div className="grid md:grid-cols-2 gap-3">
                {/* Start Date */}
                <div>
                  <Label htmlFor="startDate">Date de début</Label>
                  <Input
                    id="startDate"
                    type="date"
                    className="mt-1"
                    value={formData.startDate ? new Date(formData.startDate).toISOString().split('T')[0] : ""}
                    onChange={(e) => setFormData({ ...formData, startDate: e.target.value ? new Date(e.target.value) : null })}
                  />
                </div>

                {/* Target Delivery Date */}
                <div>
                  <Label htmlFor="targetDeliveryDate">Date de livraison prévue</Label>
                  <Input
                    id="targetDeliveryDate"
                    type="date"
                    className="mt-1"
                    value={formData.targetDeliveryDate ? new Date(formData.targetDeliveryDate).toISOString().split('T')[0] : ""}
                    onChange={(e) => setFormData({ ...formData, targetDeliveryDate: e.target.value ? new Date(e.target.value) : null })}
                  />
                </div>

                {/* Actual Delivery Date */}
                <div>
                  <Label htmlFor="actualDeliveryDate">Date de livraison réelle</Label>
                  <Input
                    id="actualDeliveryDate"
                    type="date"
                    className="mt-1"
                    value={formData.actualDeliveryDate ? new Date(formData.actualDeliveryDate).toISOString().split('T')[0] : ""}
                    onChange={(e) => setFormData({ ...formData, actualDeliveryDate: e.target.value ? new Date(e.target.value) : null })}
                  />
                </div>

                {/* End Date */}
                <div>
                  <Label htmlFor="endDate">Date de fin</Label>
                  <Input
                    id="endDate"
                    type="date"
                    className="mt-1"
                    value={formData.endDate ? new Date(formData.endDate).toISOString().split('T')[0] : ""}
                    onChange={(e) => setFormData({ ...formData, endDate: e.target.value ? new Date(e.target.value) : null })}
                  />
                </div>
              </div>
            </div>
          </AccordionContent>
        </Card>
      </AccordionItem>

      {/* Accordion 4: Production & Stockage */}
      <AccordionItem value="production-stockage">
        <Card>
          <AccordionTrigger className="px-4 py-3 hover:no-underline" onClick={handleAccordionTriggerClick}>
            <h3 className="text-lg font-semibold flex items-center gap-2">
              <Database className="h-5 w-5 text-primary" />
              Production & Stockage
            </h3>
          </AccordionTrigger>
          <AccordionContent>
            <div className="px-4 pb-3 space-y-3">
              <div className="grid md:grid-cols-2 gap-3">
                {/* Track Count */}
                <div>
                  <Label htmlFor="trackCount">Nombre de pistes</Label>
                  <Input
                    id="trackCount"
                    type="number"
                    className="mt-1"
                    value={formData.trackCount || ""}
                    onChange={(e) => setFormData({ ...formData, trackCount: e.target.value ? parseInt(e.target.value) : 0 })}
                    placeholder="0"
                  />
                </div>

                {/* Total Cost */}
                <div>
                  <Label htmlFor="totalCost">Coût total (€)</Label>
                  <Input
                    id="totalCost"
                    type="text"
                    className="mt-1"
                    value={formData.totalCost || ""}
                    onChange={(e) => setFormData({ ...formData, totalCost: e.target.value })}
                    placeholder="0.00"
                  />
                </div>
              </div>

              {/* Cover Art URL */}
              <div>
                <Label htmlFor="coverArtUrl">URL de la pochette</Label>
                <Input
                  id="coverArtUrl"
                  type="url"
                  className="mt-1"
                  value={formData.coverArtUrl || ""}
                  onChange={(e) => setFormData({ ...formData, coverArtUrl: e.target.value })}
                  placeholder="https://example.com/cover.jpg"
                />
              </div>

              <div className="grid md:grid-cols-2 gap-3">
                {/* Storage Location */}
                <div>
                  <Label htmlFor="storageLocation">Emplacement de stockage</Label>
                  <Input
                    id="storageLocation"
                    className="mt-1"
                    value={formData.storageLocation || ""}
                    onChange={(e) => setFormData({ ...formData, storageLocation: e.target.value })}
                    placeholder="/projects/2024/album-name"
                  />
                </div>

                {/* Storage Size */}
                <div>
                  <Label htmlFor="storageSize">Taille stockage (MB)</Label>
                  <Input
                    id="storageSize"
                    type="number"
                    className="mt-1"
                    value={formData.storageSize || ""}
                    onChange={(e) => setFormData({ ...formData, storageSize: e.target.value ? parseInt(e.target.value) : null })}
                    placeholder="1024"
                  />
                </div>
              </div>
            </div>
          </AccordionContent>
        </Card>
      </AccordionItem>

      {/* Accordion 5: Plateformes & Notes */}
      <AccordionItem value="plateformes-notes">
        <Card>
          <AccordionTrigger className="px-4 py-3 hover:no-underline" onClick={handleAccordionTriggerClick}>
            <h3 className="text-lg font-semibold flex items-center gap-2">
              <Radio className="h-5 w-5 text-primary" />
              Plateformes & Notes
            </h3>
          </AccordionTrigger>
          <AccordionContent>
            <div className="px-4 pb-3 space-y-3">
              {/* Streaming Platforms */}
              <div className="grid md:grid-cols-2 gap-3">
                <div>
                  <Label htmlFor="spotifyUrl">Spotify</Label>
                  <Input
                    id="spotifyUrl"
                    type="url"
                    className="mt-1"
                    value={formData.spotifyUrl || ""}
                    onChange={(e) => setFormData({ ...formData, spotifyUrl: e.target.value })}
                    placeholder="https://open.spotify.com/album/..."
                  />
                </div>

                <div>
                  <Label htmlFor="appleMusicUrl">Apple Music</Label>
                  <Input
                    id="appleMusicUrl"
                    type="url"
                    className="mt-1"
                    value={formData.appleMusicUrl || ""}
                    onChange={(e) => setFormData({ ...formData, appleMusicUrl: e.target.value })}
                    placeholder="https://music.apple.com/album/..."
                  />
                </div>
              </div>

              {/* Notes */}
              <div>
                <Label htmlFor="notes">Notes internes</Label>
                <Textarea
                  id="notes"
                  className="mt-1 min-h-[80px]"
                  value={formData.notes || ""}
                  onChange={(e) => setFormData({ ...formData, notes: e.target.value })}
                  placeholder="Notes privées du studio..."
                />
              </div>

              {/* Technical Notes */}
              <div>
                <Label htmlFor="technicalNotes">Notes techniques</Label>
                <Textarea
                  id="technicalNotes"
                  className="mt-1 min-h-[80px]"
                  value={formData.technicalNotes || ""}
                  onChange={(e) => setFormData({ ...formData, technicalNotes: e.target.value })}
                  placeholder="Configuration technique, équipements utilisés..."
                />
              </div>
            </div>
          </AccordionContent>
        </Card>
      </AccordionItem>
    </Accordion>
  );
}
```

**Key differences from TalentEditForm:**
- 5 accordions but with MORE fields (20+ vs 10)
- More complex sections (Timeline with 4 dates, Production with storage/cost)
- Client dropdown needs trpc.clients.list query
- Date handling requires conversion (ISO string ↔ Date)
- Number fields (trackCount, storageSize) require parseInt

**Why accordion pattern:** Eliminates overwhelming 270-line inline form, all fields accessible, matches Phase 28 talent improvements
  </action>
  <verify>
1. Component exports ProjectEditForm
2. TypeScript 0 errors on component definition
3. All 5 accordions render correctly
4. localStorage persistence works (projectEditAccordions key)
5. Alt+Click toggles all accordions
6. Form fields update formData correctly
7. Client dropdown populates from tRPC query
  </verify>
  <done>
- ProjectEditForm.tsx created with 5 accordions
- Informations de Base, Description & Genre, Calendrier, Production & Stockage, Plateformes & Notes sections
- All 20+ project fields organized logically
- All accordions open by default
- localStorage persistence for accordion state
- Alt+Click toggle all feature
- TypeScript compiles without errors
  </done>
</task>

<task type="auto">
  <name>Task 2: Refactor ProjectCreate.tsx to use ProjectEditForm</name>
  <files>packages/client/src/pages/ProjectCreate.tsx</files>
  <action>
**Pattern reference:** TalentCreate.tsx after Phase 28-05 refactor - reusable form component

**Simplify creation page:**

1. **Import ProjectEditForm:**
   ```typescript
   import { ProjectEditForm } from "@/components/ProjectEditForm";
   ```

2. **Keep formData state and createMutation** (existing logic is good)

3. **Replace inline Card form (lines ~95-273) with ProjectEditForm:**
   ```typescript
   return (
     <div className="container pt-2 pb-4 px-2">
       <div className="space-y-2">
         {/* Header (keep as is, lines 74-91) */}
         <div className="flex items-center justify-between">
           <div className="flex items-center gap-4">
             <Link to="/projects">
               <Button variant="ghost" size="icon">
                 <ArrowLeft className="h-5 w-5" />
               </Button>
             </Link>
             <div>
               <h1 className="text-3xl font-bold flex items-center gap-2">
                 <Music className="h-8 w-8 text-primary" />
                 Nouveau Projet
               </h1>
               <p className="text-muted-foreground">Créer un nouveau projet musical</p>
             </div>
           </div>
         </div>

         {/* Form */}
         <form onSubmit={handleSubmit}>
           <ProjectEditForm
             formData={formData}
             setFormData={setFormData}
           />

           {/* Submit button */}
           <div className="mt-4 flex justify-end gap-2">
             <Button type="button" variant="outline" asChild>
               <Link to="/projects">Annuler</Link>
             </Button>
             <Button type="submit" disabled={createMutation.isPending}>
               <Save className="h-4 w-4 mr-2" />
               {createMutation.isPending ? "Création..." : "Créer le projet"}
             </Button>
           </div>
         </form>
       </div>
     </div>
   );
   ```

4. **Remove unused imports:**
   - Remove: Card, CardContent, CardDescription, CardHeader, CardTitle (no longer used)
   - Remove: Input, Label, Textarea, Select components (now in ProjectEditForm)

5. **Update formData initial state** to match all 20+ fields (add missing: trackCount, totalCost, coverArtUrl, storageLocation, storageSize, spotifyUrl, appleMusicUrl, technicalNotes, catalogNumber, startDate, targetDeliveryDate, actualDeliveryDate, endDate)

**Result:** ProjectCreate.tsx reduces from ~279 lines to ~120 lines, reuses ProjectEditForm component

**Benefits:**
- DRY principle (single form component for create + edit)
- Consistency (same UI for creation and editing)
- Maintainability (form changes only in ProjectEditForm.tsx)
- User experience (accordion pattern better than long inline form)
  </action>
  <verify>
1. Navigate to /projects/new
2. ProjectEditForm renders with 5 accordions
3. Client dropdown populates correctly
4. Fill required fields (clientId, name)
5. Fill optional fields (genre, budget, dates, etc.)
6. Click "Créer le projet" - createMutation fires
7. Successful creation redirects to detail page
8. TypeScript 0 errors
  </verify>
  <done>
- ProjectCreate.tsx refactored to use ProjectEditForm
- Page simplified to ~120 lines (from ~279)
- Reusable form component for create + edit
- All 20+ fields accessible via accordions
- Submit button with validation
- Removed unused Card/Input/Label imports
- TypeScript compiles successfully
  </done>
</task>

<task type="auto">
  <name>Task 3: Build and verify harmonization complete</name>
  <files>packages/client/src/components/ProjectEditForm.tsx, packages/client/src/pages/ProjectCreate.tsx</files>
  <action>
**Final verification steps:**

1. **TypeScript check:**
   ```bash
   pnpm --filter client check
   ```

2. **Build test:**
   ```bash
   pnpm --filter client build
   ```

3. **Test complete workflow:**
   - Visit /projects/new → create project with ProjectEditForm
   - Fill required fields (client, name)
   - Fill optional fields across all 5 accordions
   - Click "Créer le projet" → mutation succeeds
   - Verify redirect to /projects/:id

4. **Document completion in commit:**
   ```bash
   git add packages/client/src/components/ProjectEditForm.tsx packages/client/src/pages/ProjectCreate.tsx
   git commit -m "feat(32-01): replace inline form with accordion-based ProjectEditForm

Phase 32 Plan 01: ProjectEditForm Harmonization
- Created ProjectEditForm component (5 accordions covering all 20+ fields)
  1. Informations de Base (client, name, artistName, type, status)
  2. Description & Genre (description, genre, budget, label, catalogNumber)
  3. Calendrier (startDate, targetDeliveryDate, actualDeliveryDate, endDate)
  4. Production & Stockage (trackCount, totalCost, coverArtUrl, storageLocation, storageSize)
  5. Plateformes & Notes (spotifyUrl, appleMusicUrl, notes, technicalNotes)
- Refactored ProjectCreate.tsx to use ProjectEditForm (~120 lines from ~279)
- Inline form pattern eliminated completely
- All accordions open by default (Alt+Click toggle all)
- localStorage persistence for accordion state
- Client dropdown integrated with tRPC query

Pattern reference: TalentEditForm Phase 28-05 (accordion-based complex forms)
Matches harmonization: Talents (28-05), Clients (26-XX)

Phase 32 Plan 01 COMPLETE

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"
   ```

**Success indicators:**
- ✓ Build successful (zero errors)
- ✓ TypeScript passes
- ✓ Create workflow functional
- ✓ Inline form eliminated, accordion pattern adopted
- ✓ All 20+ project fields accessible
- ✓ Phase 32-01 complete
  </action>
  <verify>
1. TypeScript check passes (0 errors)
2. Build completes successfully
3. No console errors in create workflow
4. All 5 accordions functional
5. Form state synchronization working
6. Client dropdown working
7. Date fields handling correctly
8. Git commit created with Phase 32-01 completion message
  </verify>
  <done>
- TypeScript 0 errors confirmed
- Production build successful
- ProjectEditForm harmonized with TalentEditForm patterns
- Inline form eliminated (Phase 28 accordion pattern applied)
- Phase 32-01 complete
- Projects creation UI now matches Talents/Clients harmonization
  </done>
</task>

</tasks>

<verification>
**Phase 32 Plan 01 Complete Verification:**

1. **ProjectEditForm component:**
   - [x] 5 accordions created
   - [x] All 20+ project fields organized logically
   - [x] All open by default with localStorage persistence
   - [x] Alt+Click toggles all accordions
   - [x] Client dropdown integrated with tRPC
   - [x] Date handling (ISO ↔ Date conversion)

2. **ProjectCreate page:**
   - [x] Inline form replaced with ProjectEditForm
   - [x] Reduced from ~279 to ~120 lines
   - [x] Reusable component pattern
   - [x] Submit button workflow intact

3. **Build quality:**
   - [x] TypeScript 0 errors
   - [x] Client builds successfully
   - [x] Create workflow functional
</verification>

<success_criteria>
- [ ] ProjectEditForm component created with 5 accordions
- [ ] All 20+ project fields covered (client, name, artistName, type, status, description, genre, budget, label, catalogNumber, dates, trackCount, totalCost, coverArtUrl, storage, streaming, notes)
- [ ] All accordions open by default with localStorage persistence
- [ ] Alt+Click toggles all accordions
- [ ] ProjectCreate.tsx refactored to use ProjectEditForm (~120 lines from ~279)
- [ ] Inline form pattern eliminated from creation flow
- [ ] Client dropdown working with tRPC query
- [ ] Date fields handling correctly
- [ ] TypeScript 0 errors
- [ ] Client builds successfully
- [ ] Create workflow functional
- [ ] Pattern matches TalentEditForm Phase 28-05 (accordion-based complex forms)
- [ ] Phase 32-01 complete: Projects creation harmonized with Talents/Clients
</success_criteria>

<output>
After completion, create `.planning/phases/32-harmonisation-projects---routing-cohérent/32-01-SUMMARY.md`
</output>
