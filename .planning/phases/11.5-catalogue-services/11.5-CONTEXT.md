# Phase 11.5: Catalogue de Services - Context

**Gathered:** 2026-01-06
**Status:** Ready for planning

<vision>
## How This Should Work

Un catalogue de services/produits pré-définis qui simplifie la création des devis. Au lieu de remplir manuellement chaque ligne (description, quantité, prix, TVA), on peut sélectionner rapidement des prestations standards depuis un catalogue centralisé.

**Deux composantes principales:**

1. **Page de gestion du catalogue** - Une page dédiée "Services" (dans la sidebar, section CONTACTS ou RESSOURCES) où on crée et maintient le catalogue. CRUD complet: créer, modifier, supprimer des services.

2. **Accès rapide dans les devis** - Lors de la création d'un devis, pouvoir ajouter des services du catalogue de deux façons:
   - **Autocomplete**: En tapant dans le champ "Description", suggestions des services existants. Click = remplissage automatique de la quantité/prix/TVA
   - **Bouton "Du catalogue"**: Ouvre une modale/drawer pour browser visuellement le catalogue organisé par catégories

**Flexibilité conservée**: On garde la possibilité d'ajouter des lignes librement (système actuel) pour les cas spécifiques. Le catalogue est une aide, pas une contrainte.

</vision>

<essential>
## What Must Be Nailed

- **Catalogue complet et flexible** - Chaque service stocke:
  - Nom (ex: "Enregistrement (4h)")
  - Description (optionnelle)
  - Prix unitaire (ex: 75€/h)
  - Catégorie (Studio, Post-production, Location matériel, Autre)
  - Quantité par défaut (ex: 4 pour Enregistrement 4h, 1 pour Mastering)
  - TVA spécifique (20%, 10%, 5.5%, etc.) - certains services peuvent avoir des taux différents

- **Double accès dans les devis** - Autocomplete (power users qui tapent vite) + Bouton catalogue (découverte visuelle). Les deux doivent fonctionner parfaitement.

- **Intégration transparente** - Quand on sélectionne un service du catalogue, tous les champs de la ligne se remplissent automatiquement, mais on peut encore tout modifier après. C'est un point de départ, pas un carcan.

</essential>

<boundaries>
## What's Out of Scope

- **Templates de devis complets** - Les "packs" pré-configurés (ex: "Album 10 tracks" avec 40h enregistrement + 10h mixage + mastering) sont une phase future. Pour l'instant: catalogue d'items individuels uniquement.

- **Groupes de services (bundles)** - Les regroupements de services fréquemment vendus ensemble ("Pack Enregistrement") viendront après. Phase actuelle = services individuels.

- **Duplication de devis existants** - La fonctionnalité "Dupliquer ce devis" pour créer un nouveau devis basé sur un existant est reportée à une phase ultérieure.

- **Tarification dynamique** - Pas de système de prix variables selon le client, le volume, la saison, etc. Un service = un prix fixe (modifiable manuellement dans le devis si besoin).

- **Gestion d'inventaire** - Pas de tracking de stock pour les produits. Le catalogue est juste une liste de références, pas un système d'inventaire.

</boundaries>

<specifics>
## Specific Ideas

**Organisation du catalogue par catégories:**
- Studio (Enregistrement, Répétition, etc.)
- Post-production (Mixage, Mastering, Montage, etc.)
- Location matériel (Micros, Préamps, etc.)
- Autre / Divers

**Autocomplete dans la description:**
- Fuzzy search (tolère les typos)
- Affiche: nom du service + prix + catégorie
- Selection = pré-remplissage de description, quantity, unitPrice, et override du taxRate global si le service a une TVA spécifique

**Bouton "Du catalogue":**
- À côté de "Ajouter une ligne"
- Ouvre modal avec liste filtrée par catégorie
- Vue: cards ou table avec colonnes [Nom | Catégorie | Prix | TVA]
- Click sur un service = ajoute une nouvelle ligne avec les valeurs du service

**Page de gestion:**
- Table avec toutes les colonnes visibles
- Boutons: "Nouveau service", Edit (icon), Delete (icon)
- Filtres par catégorie
- Recherche dans nom/description

</specifics>

<notes>
## Additional Context

**Priorité claire:** Catalogue de services individuels d'abord. Les templates, bundles, et duplication de devis sont des améliorations futures qui viendront naturellement après avoir une base solide.

**Placement dans le roadmap:** Après Phase 11 (Système de Devis Frontend) complète. Finir le workflow de base des devis avant d'ajouter le catalogue qui est une amélioration ergonomique.

**Vision long-terme mentionnée mais hors scope:**
- Templates de devis complets ("Album 10 tracks")
- Packs de services (bundles)
- Duplication de devis existants

Ces fonctionnalités seront probablement des phases 11.6, 11.7, etc. après que le catalogue de base fonctionne bien.

</notes>

---

*Phase: 11.5-catalogue-services*
*Context gathered: 2026-01-06*
