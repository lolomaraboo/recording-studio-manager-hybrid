# Phase 3.13 Plan 01: Test Matrix & Protocol Creation

<objective>
Créer une matrice de tests complète et un protocole de validation systématique pour les 45 pages de l'application avant le lancement marketing Phase 4.

**Scope:**
- Admin Dashboard: 37 pages
- Client Portal: 5 pages
- Super Admin: 3 pages

**Purpose:** Assurer une validation exhaustive et reproductible de l'UI avant la mise en production marketing.
</objective>

<execution_context>
@.planning/ROADMAP.md
@.planning/STATE.md
@packages/client/src/App.tsx (routes definitions)
@e2e/ (existing test patterns for reference)
</execution_context>

<context>
**Phase 3.13 context:**
- Phase 3.11 (cleanup) complete
- Phase 3.12 (display modes) not started
- Phase 3.13 inserted before Phase 4 (Marketing Foundation)
- Production site: https://recording-studio-manager.com
- User explicit: "on est pas encore pret pour la phase 4"
- Need: "verifier l ui de toutes les pages"

**Current testing infrastructure:**
- Playwright E2E tests exist in `e2e/` directory
- Tests cover auth, CRUD, features, workflows
- Global setup creates test user: e2e-test-user@example.com
- Production URL configured in playwright.config.ts

**Key validation areas:**
1. UI consistency across pages
2. Navigation flows (breadcrumbs, menus, links)
3. Forms (validation, error states, submit actions)
4. Data display (tables, cards, empty states)
5. Responsive design
6. Error handling and edge cases
</context>

<tasks>
### Task 1: Generate comprehensive test matrix

**Action:** Create test matrix CSV/spreadsheet covering all 45 pages with validation criteria.

**Matrix columns:**
- Page URL/Route
- Page Category (Admin/Client Portal/Super Admin)
- Feature Area (Clients, Sessions, Invoices, etc.)
- Navigation Test (Can access? Breadcrumbs correct?)
- Form Test (If applicable: validation, submit, errors)
- Data Display Test (Layout, empty states, loading states)
- Responsive Test (Mobile, tablet, desktop)
- Error Test (Network errors, 404s, permissions)
- Status (Not Tested / Pass / Fail)
- Notes/Issues

**Output file:** `.planning/phases/3.13-validation-ui-complete-toutes-pages/test-matrix.csv`

**Page inventory to include:**

**Admin Dashboard (37 pages):**
- Dashboard home
- Clients: list, create, edit, detail, import
- Sessions: list, create, edit, detail, calendar
- Invoices: list, create, edit, detail, preview
- Equipment: list, create, edit, detail
- Rooms: list, create, edit
- Projects: list, create, edit, detail
- Analytics: overview, revenue, sessions, clients
- Settings: profile, organization, billing, team, integrations
- Search: global search results
- Notifications: list, detail

**Client Portal (5 pages):**
- Client dashboard
- My sessions
- My invoices
- My profile
- Support/contact

**Super Admin (3 pages):**
- Organizations list
- System settings
- Audit logs

### Task 2: Create testing protocol document

**Action:** Write detailed testing protocol with step-by-step instructions for manual validation.

**Protocol sections:**
1. **Setup Requirements**
   - Browser (Chrome/Firefox/Safari)
   - Test accounts (admin, client, super admin)
   - Test data requirements
   - Tools needed (DevTools, Lighthouse, etc.)

2. **Testing Methodology**
   - Page-by-page systematic approach
   - How to document bugs (screenshot, steps to reproduce)
   - How to categorize severity (P0/P1/P2/P3)
   - How to update test matrix status

3. **Validation Checklist per Page**
   - [ ] Page loads without errors (check Console)
   - [ ] Navigation elements work (header, sidebar, breadcrumbs)
   - [ ] All links/buttons are clickable and lead to correct destinations
   - [ ] Forms validate inputs correctly
   - [ ] Forms show appropriate error messages
   - [ ] Data displays correctly (or shows empty state)
   - [ ] Page is responsive (test 3 breakpoints: mobile, tablet, desktop)
   - [ ] Loading states work (skeleton, spinners)
   - [ ] Error states work (network failure, 404, permissions)
   - [ ] Performance acceptable (< 3s load time)

4. **Bug Documentation Template**
   ```
   Bug ID: [auto-increment]
   Page: [URL/route]
   Severity: [P0/P1/P2/P3]
   Category: [UI/UX/Functional/Performance]
   Description: [what's wrong]
   Steps to Reproduce:
   1.
   2.
   3.
   Expected: [what should happen]
   Actual: [what actually happens]
   Screenshot: [link/path]
   Browser: [Chrome/Firefox/Safari version]
   ```

5. **Timeline Estimate**
   - Estimated time per page: 5-10 minutes
   - Total estimated time: 4-8 hours
   - Recommended approach: Split into 2-3 sessions

**Output file:** `.planning/phases/3.13-validation-ui-complete-toutes-pages/testing-protocol.md`
</tasks>

<verification>
After execution, verify:

1. **Test matrix file exists and is complete:**
   - [ ] File: `.planning/phases/3.13-validation-ui-complete-toutes-pages/test-matrix.csv`
   - [ ] Contains 45+ rows (one per page)
   - [ ] All columns defined (URL, Category, Tests, Status, Notes)
   - [ ] All page routes from App.tsx included
   - [ ] Admin, Client Portal, Super Admin sections clearly marked

2. **Testing protocol document exists and is complete:**
   - [ ] File: `.planning/phases/3.13-validation-ui-complete-toutes-pages/testing-protocol.md`
   - [ ] Contains all 5 sections (Setup, Methodology, Checklist, Bug Template, Timeline)
   - [ ] Checklist has 10+ validation points per page
   - [ ] Bug template is clear and actionable
   - [ ] Timeline estimate is realistic

3. **Both documents are actionable:**
   - [ ] User can start Plan 2 (manual testing) immediately after Plan 1
   - [ ] No ambiguity in what needs to be tested
   - [ ] Clear process for documenting bugs
</verification>

<success_criteria>
Plan 1 is complete when:

- [ ] Test matrix CSV created with all 45 pages listed
- [ ] Testing protocol markdown document created
- [ ] Both files committed to Git
- [ ] User can begin manual testing (Plan 2) with clear guidance
- [ ] No planning gaps (all pages, all test types covered)
</success_criteria>

<output>
**Deliverables:**
1. `.planning/phases/3.13-validation-ui-complete-toutes-pages/test-matrix.csv`
2. `.planning/phases/3.13-validation-ui-complete-toutes-pages/testing-protocol.md`

**Next step:** Execute Plan 2 (manual UI validation testing session)
</output>
