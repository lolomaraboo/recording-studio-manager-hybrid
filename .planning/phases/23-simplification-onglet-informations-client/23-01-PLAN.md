---
phase: 23-simplification-onglet-informations-client
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/client/src/components/ClientDetailTabs.tsx
autonomous: true

must_haves:
  truths:
    - "User can see all client fields in single view without clicking sub-tabs"
    - "Visual sections clearly separate basic info, enriched data, and music profile"
    - "No navigation required to see complete client profile"
  artifacts:
    - path: "packages/client/src/components/ClientDetailTabs.tsx"
      provides: "Single-view Informations tab with 3 visual sections"
      min_lines: 280
      pattern: "Section headings with Separator components"
  key_links:
    - from: "Informations TabsContent"
      to: "Basic info, EnrichedClientInfo, MusicProfileSection"
      via: "Vertical layout with visual separators"
      pattern: "<Separator.*/>.*<h3.*>Section Title"
---

<objective>
Remove 3 sub-tabs (Informations/Informations Enrichies/Profil Musical) from Informations tab and display all fields in single scrollable view with visual sections.

Purpose: Reduce navigation friction - users can see entire client profile at a glance without clicking between sub-tabs. Improves accessibility and UX for consulting complete client information.

Output: ClientDetailTabs.tsx with simplified single-view Informations tab using visual section headers and separators instead of nested tabs.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Phase 22 context
@.planning/phases/22-refonte-ui-client-hub-relationnel-complet/22-02-SUMMARY.md

# Current implementation
@packages/client/src/components/ClientDetailTabs.tsx
</context>

<tasks>

<task type="auto">
  <name>Remove nested Tabs and replace with visual sections</name>
  <files>packages/client/src/components/ClientDetailTabs.tsx</files>
  <action>
Refactor the Informations TabsContent (lines 97-242) to remove nested `<Tabs>` component with 3 sub-tabs and replace with single vertical layout containing 3 visual sections:

**Section 1: Informations de Base** (replace info-basic TabsContent)
- Add section header: `<h3 className="text-lg font-semibold mb-4">Informations de Base</h3>`
- Keep existing basic info display (artistName, email, phone, address with icons)
- Lines 174-211 (view mode content)

**Section 2: Informations Enrichies** (replace info-enriched TabsContent)
- Add Separator: `<Separator className="my-6" />`
- Add section header: `<h3 className="text-lg font-semibold mb-4">Informations Enrichies</h3>`
- Keep existing EnrichedClientInfo component (lines 215-229)

**Section 3: Profil Musical** (replace info-music TabsContent)
- Add Separator: `<Separator className="my-6" />`
- Add section header: `<h3 className="text-lg font-semibold mb-4">Profil Musical</h3>`
- Keep existing MusicProfileSection component (lines 233-237)

**Remove:**
- Nested `<Tabs>` wrapper (line 100)
- `<TabsList>` with 3 sub-triggers (lines 101-114)
- All 3 `<TabsContent>` wrappers (keep only the content inside)

**Add imports:**
- Import Separator from shadcn/ui: `import { Separator } from "@/components/ui/separator";`

**Structure:**
```tsx
<TabsContent value="informations" className="mt-4">
  <Card>
    <CardContent className="pt-6 space-y-6">
      {/* Section 1: Basic Info */}
      <div>
        <h3 className="text-lg font-semibold mb-4">Informations de Base</h3>
        {/* Existing basic info display (lines 174-211) */}
      </div>

      <Separator className="my-6" />

      {/* Section 2: Enriched */}
      <div>
        <h3 className="text-lg font-semibold mb-4">Informations Enrichies</h3>
        <EnrichedClientInfo {...props} />
      </div>

      <Separator className="my-6" />

      {/* Section 3: Music Profile */}
      <div>
        <h3 className="text-lg font-semibold mb-4">Profil Musical</h3>
        <MusicProfileSection {...props} />
      </div>
    </CardContent>
  </Card>
</TabsContent>
```

**Important:**
- Remove unused imports: `Users`, `FileText` (no longer used in sub-tab triggers)
- Keep `isEditing` logic intact (not affected by this change)
- Maintain all existing props passed to EnrichedClientInfo and MusicProfileSection
- The single-view layout should scroll naturally within the Card
  </action>
  <verify>
```bash
# Type check
cd /Users/marabook_m1/Documents/APP_HOME/CascadeProjects/windsurf-project/recording-studio-manager-hybrid/packages/client
pnpm exec tsc --noEmit

# Build client
pnpm build
```

Should succeed with 0 errors. Verify imports resolve correctly and no unused variable warnings.
  </verify>
  <done>
- ClientDetailTabs.tsx modified: Nested Tabs removed, 3 visual sections added with Separator components
- TypeScript compilation succeeds
- Build produces no errors
- Single-view Informations tab displays all fields with clear visual hierarchy
  </done>
</task>

<task type="auto">
  <name>Test UI in development mode</name>
  <files>packages/client/src/components/ClientDetailTabs.tsx</files>
  <action>
Start development servers and validate single-view Informations tab:

```bash
# Start backend
cd /Users/marabook_m1/Documents/APP_HOME/CascadeProjects/windsurf-project/recording-studio-manager-hybrid
DATABASE_URL="postgresql://postgres:password@localhost:5432/rsm_master" pnpm --filter server dev &

# Start frontend
pnpm --filter client dev
```

**Manual validation checklist:**
1. Navigate to http://localhost:5174/clients
2. Click on any client to open ClientDetail page
3. Verify Informations tab shows:
   - Section "Informations de Base" with email, phone, address
   - Separator line
   - Section "Informations Enrichies" with contacts/vCard fields
   - Separator line
   - Section "Profil Musical" with genres, instruments, streaming links
4. Verify no sub-tabs visible
5. Verify smooth scrolling through all sections
6. Verify visual hierarchy clear (section headers, separators)
7. Test with client that has all fields populated
8. Test with client that has minimal fields (empty state handling)

**Expected behavior:**
- All 3 sections visible in single scrollable view
- Clear visual separation between sections
- No need to click tabs to see complete profile
- Mobile responsive (sections stack vertically)
  </action>
  <verify>
Visual inspection confirms:
- Single-view layout working
- All sections visible without clicking
- Visual separators clearly define sections
- No sub-tab navigation present
- Scrolling smooth and natural
  </verify>
  <done>
- Development testing complete
- Single-view Informations tab validated visually
- All sections accessible in one view
- Visual hierarchy clear and accessible
  </done>
</task>

<task type="auto">
  <name>Commit changes</name>
  <files>packages/client/src/components/ClientDetailTabs.tsx</files>
  <action>
Commit the simplified Informations tab:

```bash
cd /Users/marabook_m1/Documents/APP_HOME/CascadeProjects/windsurf-project/recording-studio-manager-hybrid

git add packages/client/src/components/ClientDetailTabs.tsx

git commit -m "$(cat <<'EOF'
feat(23-01): simplify Informations tab to single-view with visual sections

Remove 3 sub-tabs (Informations/Enrichies/Musique) and display all fields
in single scrollable view with clear visual separation.

Changes:
- Remove nested Tabs component from Informations tab
- Add 3 section headers: Base, Enrichies, Profil Musical
- Add Separator components between sections
- Remove unused imports (Users, FileText icons)
- Improve UX: see entire client profile without sub-tab navigation

Impact: Reduces clicks to view complete client data, improves accessibility

Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>
EOF
)"
```
  </action>
  <verify>
```bash
git log -1 --stat
```

Should show commit with ClientDetailTabs.tsx modified.
  </verify>
  <done>
- Changes committed atomically
- Commit message descriptive and follows GSD pattern
- Git history clean
  </done>
</task>

</tasks>

<verification>
**Overall phase validation:**

1. **Code quality:**
   - `pnpm check` passes (0 TypeScript errors)
   - `pnpm --filter client build` succeeds
   - No ESLint warnings about unused imports

2. **Functional validation:**
   - Informations tab displays all 3 sections in single view
   - No sub-tabs present
   - Visual separators clearly define sections
   - Scrolling works smoothly
   - All existing functionality preserved (EnrichedClientInfo, MusicProfileSection components intact)

3. **UX improvement confirmed:**
   - User can see entire client profile without clicking sub-tabs
   - Visual hierarchy clear (section headers + separators)
   - Mobile responsive layout maintained
</verification>

<success_criteria>
Phase 23 complete when:

- [x] Nested Tabs component removed from Informations tab
- [x] 3 visual sections created with headers and Separators
- [x] All client fields visible in single scrollable view
- [x] TypeScript builds with 0 errors
- [x] Development testing validates single-view layout
- [x] Changes committed to git
- [x] No regressions in other tabs (Projets, Tracks, Sessions, Finances)
</success_criteria>

<output>
After completion, create `.planning/phases/23-simplification-onglet-informations-client/23-01-SUMMARY.md`
</output>
