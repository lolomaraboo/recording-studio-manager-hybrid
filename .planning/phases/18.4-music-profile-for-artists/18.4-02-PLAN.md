---
phase: 18.4-music-profile-for-artists
plan: 02
type: execute
wave: 2
depends_on: ["18.4-01"]
files_modified:
  - packages/client/src/components/MusicProfileSection.tsx
  - packages/client/src/components/ui/multi-select.tsx
  - packages/client/src/lib/music-presets.ts
autonomous: true

must_haves:
  truths:
    - "Users can select genres from preset list or add custom genres"
    - "Users can select instruments from preset list or add custom instruments"
    - "Users can enter streaming platform URLs for 11 platforms"
    - "Users can expand/collapse music profile panel with state persistence"
    - "Main view shows genre and instrument badges with icons"
  artifacts:
    - path: "packages/client/src/components/MusicProfileSection.tsx"
      provides: "Complete music profile UI component"
      exports: ["MusicProfileSection"]
      min_lines: 300
    - path: "packages/client/src/components/ui/multi-select.tsx"
      provides: "Multi-select component with custom entries"
      exports: ["MultiSelect"]
      min_lines: 150
    - path: "packages/client/src/lib/music-presets.ts"
      provides: "Genre and instrument preset data"
      exports: ["PRESET_GENRES", "PRESET_INSTRUMENTS"]
      min_lines: 50
  key_links:
    - from: "MusicProfileSection.tsx"
      to: "Client type inference"
      via: "Client type from schema"
      pattern: "import.*Client.*from.*@rsm/database"
    - from: "MultiSelect component"
      to: "react-hook-form integration"
      via: "onChange callback"
      pattern: "onChange.*values.*=>.*onUpdate"
    - from: "Genre/Instrument badges"
      to: "Visual icons"
      via: "lucide-react icons"
      pattern: "import.*Music.*Guitar.*from.*lucide-react"
---

<objective>
Create comprehensive MusicProfileSection component with genre/instrument multi-select, streaming platform URL inputs, industry contact fields, and career information inputs - following UI design decisions from CONTEXT.md.

Purpose: Provide complete music profile UI for artist clients, integrating seamlessly with existing EnrichedClientInfo pattern.

Output: Fully functional MusicProfileSection component with expandable panel, preset-based multi-select, localStorage state persistence, and icon-based visual design.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/18.4-music-profile-for-artists/18.4-CONTEXT.md
@.planning/phases/18.4-music-profile-for-artists/18.4-RESEARCH.md
@.planning/phases/18.4-music-profile-for-artists/18.4-01-SUMMARY.md
@packages/client/src/components/EnrichedClientInfo.tsx
@packages/client/src/pages/ClientDetail.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install shadcn multi-select component</name>
  <files>packages/client/src/components/ui/multi-select.tsx</files>
  <action>
Add shadcn-multi-select-component for genre/instrument selection with custom entries.

**Installation:**
```bash
cd packages/client
npx shadcn@latest add https://raw.githubusercontent.com/sersavan/shadcn-multi-select-component/main/src/multi-select.tsx
```

If shadcn add fails (common with custom URLs), manually create component:

1. Create `packages/client/src/components/ui/multi-select.tsx`
2. Copy source from: https://github.com/sersavan/shadcn-multi-select-component/blob/main/src/multi-select.tsx
3. Verify imports work with project's shadcn setup (Button, Badge, Command components)

**Component features needed:**
- Multi-selection with badges
- Search/filter preset options
- "creatable" mode allowing custom entries
- Keyboard navigation support
- Compatible with react-hook-form (controlled component)

**Alternative if shadcn-multi-select-component has issues:**
Use shadcn-ui-expansions Multiple Selector:
```bash
npx shadcn@latest add https://shadcnui-expansions.typeart.cc/docs/multiple-selector
```

Prefer shadcn-multi-select-component (simpler, better for preset + custom pattern). Only use expansions if first option fails.
  </action>
  <verify>
```bash
# Component file exists
ls packages/client/src/components/ui/multi-select.tsx

# Contains MultiSelect export
grep "export.*MultiSelect" packages/client/src/components/ui/multi-select.tsx

# Type check passes
cd packages/client && pnpm check
```
  </verify>
  <done>
- multi-select.tsx component installed in packages/client/src/components/ui/
- Component exports MultiSelect (or MultipleSelector)
- TypeScript compilation succeeds
- Component compatible with shadcn Badge, Button, Command components
  </done>
</task>

<task type="auto">
  <name>Task 2: Create music preset data (genres and instruments)</name>
  <files>packages/client/src/lib/music-presets.ts</files>
  <action>
Create preset data file with hierarchical genre and instrument structures per CONTEXT.md decisions.

**File: packages/client/src/lib/music-presets.ts**

```typescript
/**
 * Music Profile Presets
 * Hierarchical genre and instrument structures for multi-select components
 */

export interface GenreCategory {
  parent: string;
  subgenres: string[];
}

export interface InstrumentFamily {
  family: string;
  instruments: string[];
}

/**
 * 15+ parent genres with subgenres
 * User-editable and customizable per organization
 */
export const PRESET_GENRES: GenreCategory[] = [
  {
    parent: "Rock",
    subgenres: ["Classic Rock", "Alternative Rock", "Indie Rock", "Progressive Rock", "Punk Rock", "Hard Rock", "Psychedelic Rock"]
  },
  {
    parent: "Pop",
    subgenres: ["Pop", "Synth-pop", "Indie Pop", "Electropop", "K-Pop", "J-Pop", "Dance-pop"]
  },
  {
    parent: "Hip-Hop",
    subgenres: ["Hip-Hop", "Trap", "Boom Bap", "Conscious Hip-Hop", "Cloud Rap", "Drill", "Lo-fi Hip-Hop"]
  },
  {
    parent: "Electronic",
    subgenres: ["House", "Techno", "Trance", "Dubstep", "Drum & Bass", "EDM", "Ambient", "Downtempo"]
  },
  {
    parent: "Jazz",
    subgenres: ["Bebop", "Cool Jazz", "Free Jazz", "Fusion", "Smooth Jazz", "Latin Jazz", "Contemporary Jazz"]
  },
  {
    parent: "Classical",
    subgenres: ["Baroque", "Romantic", "Contemporary Classical", "Minimalism", "Opera", "Chamber Music"]
  },
  {
    parent: "R&B/Soul",
    subgenres: ["R&B", "Soul", "Neo-Soul", "Contemporary R&B", "Motown", "Funk"]
  },
  {
    parent: "Country",
    subgenres: ["Country", "Bluegrass", "Americana", "Country Rock", "Outlaw Country", "Contemporary Country"]
  },
  {
    parent: "Metal",
    subgenres: ["Heavy Metal", "Thrash Metal", "Death Metal", "Black Metal", "Power Metal", "Progressive Metal", "Metalcore"]
  },
  {
    parent: "Folk",
    subgenres: ["Folk", "Indie Folk", "Folk Rock", "Traditional Folk", "Contemporary Folk", "Celtic"]
  },
  {
    parent: "Reggae",
    subgenres: ["Reggae", "Dub", "Dancehall", "Ska", "Roots Reggae", "Reggaeton"]
  },
  {
    parent: "Latin",
    subgenres: ["Salsa", "Bachata", "Merengue", "Cumbia", "Reggaeton", "Bossa Nova", "Tango"]
  },
  {
    parent: "World",
    subgenres: ["Afrobeat", "Flamenco", "Fado", "Bollywood", "Arabic", "African", "Asian"]
  },
  {
    parent: "Blues",
    subgenres: ["Chicago Blues", "Delta Blues", "Electric Blues", "Blues Rock", "Country Blues"]
  },
  {
    parent: "Gospel",
    subgenres: ["Gospel", "Contemporary Christian", "Worship", "Southern Gospel", "Urban Contemporary Gospel"]
  },
  {
    parent: "Experimental",
    subgenres: ["Avant-garde", "Noise", "Industrial", "Glitch", "IDM", "Sound Art"]
  },
  {
    parent: "Soundtrack",
    subgenres: ["Film Score", "Game Soundtrack", "TV Soundtrack", "Musical Theatre"]
  }
];

/**
 * Flatten genres for multi-select (all parent + subgenres)
 */
export const FLAT_GENRES = PRESET_GENRES.flatMap(g => [g.parent, ...g.subgenres]);

/**
 * 12+ instrument families with specific instruments
 * User-editable and customizable per organization
 */
export const PRESET_INSTRUMENTS: InstrumentFamily[] = [
  {
    family: "Vocals",
    instruments: ["Lead Vocals", "Backing Vocals", "Soprano", "Alto", "Tenor", "Baritone", "Bass", "Beatboxing"]
  },
  {
    family: "Guitar",
    instruments: ["Electric Guitar", "Acoustic Guitar", "Classical Guitar", "Bass Guitar", "12-String Guitar", "Lap Steel", "Resonator"]
  },
  {
    family: "Keys",
    instruments: ["Piano", "Keyboard", "Synthesizer", "Organ", "Rhodes", "Wurlitzer", "Accordion", "Harpsichord"]
  },
  {
    family: "Drums/Percussion",
    instruments: ["Drums", "Congas", "Bongos", "Timbales", "Caj√≥n", "Djembe", "Hand Percussion", "Marimba", "Vibraphone", "Xylophone"]
  },
  {
    family: "Bass",
    instruments: ["Electric Bass", "Upright Bass", "Fretless Bass", "Synth Bass"]
  },
  {
    family: "Strings",
    instruments: ["Violin", "Viola", "Cello", "Double Bass", "Harp", "Mandolin", "Banjo", "Ukulele"]
  },
  {
    family: "Brass",
    instruments: ["Trumpet", "Trombone", "French Horn", "Tuba", "Euphonium", "Cornet", "Flugelhorn"]
  },
  {
    family: "Woodwinds",
    instruments: ["Saxophone", "Clarinet", "Flute", "Oboe", "Bassoon", "Piccolo", "Recorder"]
  },
  {
    family: "Electronic Production",
    instruments: ["MIDI Controller", "Drum Machine", "Sampler", "Sequencer", "Modular Synth", "Groovebox"]
  },
  {
    family: "World Instruments",
    instruments: ["Sitar", "Tabla", "Didgeridoo", "Kora", "Shamisen", "Erhu", "Oud", "Bouzouki"]
  },
  {
    family: "DJ/Turntables",
    instruments: ["Turntables", "CDJ", "DJ Controller", "Mixer"]
  },
  {
    family: "Sound Design",
    instruments: ["Field Recording", "Foley", "Sound Effects", "Audio Programming"]
  },
  {
    family: "Other",
    instruments: ["Harmonica", "Melodica", "Theremin", "Kazoo", "Steel Drums"]
  }
];

/**
 * Flatten instruments for multi-select (all instruments across families)
 */
export const FLAT_INSTRUMENTS = PRESET_INSTRUMENTS.flatMap(f => f.instruments);
```

Keep preset lists comprehensive but not overwhelming. Studios can add custom entries during use.
  </action>
  <verify>
```bash
# File exists
ls packages/client/src/lib/music-presets.ts

# Contains genre and instrument exports
grep "export const PRESET_GENRES" packages/client/src/lib/music-presets.ts
grep "export const PRESET_INSTRUMENTS" packages/client/src/lib/music-presets.ts

# Count preset genres (should be 15+ categories)
grep -c '"parent":' packages/client/src/lib/music-presets.ts

# Type check passes
cd packages/client && pnpm check
```
  </verify>
  <done>
- music-presets.ts created with PRESET_GENRES and PRESET_INSTRUMENTS
- 17 genre categories with subgenres
- 13 instrument families with specific instruments
- FLAT_GENRES and FLAT_INSTRUMENTS arrays exported for multi-select
- TypeScript compilation succeeds
  </done>
</task>

<task type="auto">
  <name>Task 3: Create MusicProfileSection component</name>
  <files>packages/client/src/components/MusicProfileSection.tsx</files>
  <action>
Create complete MusicProfileSection component following CONTEXT.md UI decisions.

**Component Structure:**

```typescript
/**
 * MusicProfileSection.tsx
 * Music profile fields for artist clients (genres, instruments, streaming, industry, career)
 */

import { useState, useEffect } from "react";
import { Client } from "@rsm/database/tenant/schema";
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Textarea } from "@/components/ui/textarea";
import { MultiSelect } from "@/components/ui/multi-select";
import { FLAT_GENRES, FLAT_INSTRUMENTS } from "@/lib/music-presets";
import {
  Music,
  Guitar,
  Mic,
  Radio,
  Briefcase,
  Award,
  ChevronDown,
  ChevronUp,
  Plus,
} from "lucide-react";
import {
  Collapsible,
  CollapsibleContent,
  CollapsibleTrigger,
} from "@/components/ui/collapsible";

interface MusicProfileSectionProps {
  client: Client;
  isEditing: boolean;
  onUpdate: (data: Partial<Client>) => void;
}

export function MusicProfileSection({ client, isEditing, onUpdate }: MusicProfileSectionProps) {
  // Panel state persistence in localStorage
  const [isPanelOpen, setIsPanelOpen] = useState(() => {
    const saved = localStorage.getItem('music-profile-panel-state');
    return saved ? JSON.parse(saved) : false; // Default collapsed
  });

  useEffect(() => {
    localStorage.setItem('music-profile-panel-state', JSON.stringify(isPanelOpen));
  }, [isPanelOpen]);

  return (
    <div className="space-y-6">
      {/* Main View - Genres and Instruments with Icons (Always Visible) */}
      <Card>
        <CardHeader className="pb-3">
          <CardTitle className="flex items-center gap-2">
            <Music className="h-8 w-8 text-primary" />
            Profil Musical
          </CardTitle>
        </CardHeader>
        <CardContent className="space-y-4">
          {/* Genres Row */}
          <div>
            <Label className="flex items-center gap-2 mb-2">
              <Music className="h-4 w-4" />
              Genres musicaux
            </Label>
            {isEditing ? (
              <MultiSelect
                value={client.genres || []}
                onChange={(values) => onUpdate({ genres: values })}
                options={FLAT_GENRES.map(g => ({ label: g, value: g }))}
                placeholder="S√©lectionner des genres ou ajouter des personnalis√©s..."
                creatable
              />
            ) : (
              <div className="flex flex-wrap gap-2">
                {(client.genres || []).length > 0 ? (
                  client.genres.map((genre, idx) => (
                    <Badge key={idx} variant="secondary" className="flex items-center gap-1">
                      <Music className="h-3 w-3" />
                      {genre}
                    </Badge>
                  ))
                ) : (
                  <p className="text-sm text-muted-foreground">Aucun genre renseign√©</p>
                )}
              </div>
            )}
          </div>

          {/* Instruments Row */}
          <div>
            <Label className="flex items-center gap-2 mb-2">
              <Guitar className="h-4 w-4" />
              Instruments
            </Label>
            {isEditing ? (
              <MultiSelect
                value={client.instruments || []}
                onChange={(values) => onUpdate({ instruments: values })}
                options={FLAT_INSTRUMENTS.map(i => ({ label: i, value: i }))}
                placeholder="S√©lectionner des instruments ou ajouter des personnalis√©s..."
                creatable
              />
            ) : (
              <div className="flex flex-wrap gap-2">
                {(client.instruments || []).length > 0 ? (
                  client.instruments.map((instrument, idx) => (
                    <Badge key={idx} variant="outline" className="flex items-center gap-1">
                      <Guitar className="h-3 w-3" />
                      {instrument}
                    </Badge>
                  ))
                ) : (
                  <p className="text-sm text-muted-foreground">Aucun instrument renseign√©</p>
                )}
              </div>
            )}
          </div>
        </CardContent>
      </Card>

      {/* Expandable Panel - Informations Musicales (Streaming, Industry, Career) */}
      <Collapsible open={isPanelOpen} onOpenChange={setIsPanelOpen}>
        <Card>
          <CollapsibleTrigger asChild>
            <CardHeader className="pb-3 cursor-pointer hover:bg-accent/50 transition-colors">
              <div className="flex items-center justify-between">
                <CardTitle className="flex items-center gap-2">
                  <Radio className="h-8 w-8 text-primary" />
                  Informations Musicales
                </CardTitle>
                {isPanelOpen ? (
                  <ChevronUp className="h-5 w-5 text-muted-foreground" />
                ) : (
                  <ChevronDown className="h-5 w-5 text-muted-foreground" />
                )}
              </div>
              <CardDescription>
                Plateformes de streaming, contacts industrie, informations de carri√®re
              </CardDescription>
            </CardHeader>
          </CollapsibleTrigger>

          <CollapsibleContent>
            <CardContent className="space-y-6 pt-4">
              {/* Streaming Platforms Section */}
              <div className="space-y-3">
                <h4 className="text-sm font-semibold flex items-center gap-2">
                  <Radio className="h-4 w-4" />
                  Plateformes de streaming
                </h4>
                <div className="grid grid-cols-2 gap-3">
                  {[
                    { key: 'spotifyUrl', label: 'Spotify', placeholder: 'https://open.spotify.com/artist/...' },
                    { key: 'appleMusicUrl', label: 'Apple Music', placeholder: 'https://music.apple.com/artist/...' },
                    { key: 'youtubeUrl', label: 'YouTube', placeholder: 'https://youtube.com/...' },
                    { key: 'soundcloudUrl', label: 'SoundCloud', placeholder: 'https://soundcloud.com/...' },
                    { key: 'bandcampUrl', label: 'Bandcamp', placeholder: 'https://artistname.bandcamp.com' },
                    { key: 'deezerUrl', label: 'Deezer', placeholder: 'https://deezer.com/artist/...' },
                    { key: 'tidalUrl', label: 'Tidal', placeholder: 'https://tidal.com/artist/...' },
                    { key: 'amazonMusicUrl', label: 'Amazon Music', placeholder: 'https://music.amazon.com/...' },
                    { key: 'audiomackUrl', label: 'Audiomack', placeholder: 'https://audiomack.com/...' },
                    { key: 'beatportUrl', label: 'Beatport', placeholder: 'https://beatport.com/artist/...' },
                  ].map(({ key, label, placeholder }) => (
                    <div key={key}>
                      <Label className="text-xs">{label}</Label>
                      <Input
                        value={client[key as keyof Client] as string || ""}
                        onChange={(e) => onUpdate({ [key]: e.target.value })}
                        placeholder={placeholder}
                        disabled={!isEditing}
                        className="text-sm"
                      />
                    </div>
                  ))}
                  <div className="col-span-2">
                    <Label className="text-xs">Autres plateformes</Label>
                    <Textarea
                      value={client.otherPlatformsUrl || ""}
                      onChange={(e) => onUpdate({ otherPlatformsUrl: e.target.value })}
                      placeholder="URLs suppl√©mentaires (une par ligne)"
                      disabled={!isEditing}
                      rows={2}
                      className="text-sm"
                    />
                  </div>
                </div>
              </div>

              {/* Industry Contacts Section */}
              <div className="space-y-3">
                <h4 className="text-sm font-semibold flex items-center gap-2">
                  <Briefcase className="h-4 w-4" />
                  Contacts industrie
                </h4>
                <div className="grid grid-cols-2 gap-3">
                  <div>
                    <Label className="text-xs">Label</Label>
                    <Input
                      value={client.recordLabel || ""}
                      onChange={(e) => onUpdate({ recordLabel: e.target.value })}
                      placeholder="Nom du label"
                      disabled={!isEditing}
                      className="text-sm"
                    />
                  </div>
                  <div>
                    <Label className="text-xs">Distributeur</Label>
                    <Input
                      value={client.distributor || ""}
                      onChange={(e) => onUpdate({ distributor: e.target.value })}
                      placeholder="Nom du distributeur"
                      disabled={!isEditing}
                      className="text-sm"
                    />
                  </div>
                  <div>
                    <Label className="text-xs">Manager</Label>
                    <Input
                      value={client.managerContact || ""}
                      onChange={(e) => onUpdate({ managerContact: e.target.value })}
                      placeholder="Nom et contact du manager"
                      disabled={!isEditing}
                      className="text-sm"
                    />
                  </div>
                  <div>
                    <Label className="text-xs">√âditeur</Label>
                    <Input
                      value={client.publisher || ""}
                      onChange={(e) => onUpdate({ publisher: e.target.value })}
                      placeholder="Nom de l'√©diteur"
                      disabled={!isEditing}
                      className="text-sm"
                    />
                  </div>
                  <div className="col-span-2">
                    <Label className="text-xs">Soci√©t√© de gestion collective (SACEM, SOCAN, BMI, etc.)</Label>
                    <Input
                      value={client.performanceRightsSociety || ""}
                      onChange={(e) => onUpdate({ performanceRightsSociety: e.target.value })}
                      placeholder="Nom de la soci√©t√©"
                      disabled={!isEditing}
                      className="text-sm"
                    />
                  </div>
                </div>
              </div>

              {/* Career Information Section */}
              <div className="space-y-3">
                <h4 className="text-sm font-semibold flex items-center gap-2">
                  <Award className="h-4 w-4" />
                  Informations de carri√®re
                </h4>
                <div className="space-y-3">
                  <div>
                    <Label className="text-xs">Ann√©es d'activit√©</Label>
                    <Input
                      value={client.yearsActive || ""}
                      onChange={(e) => onUpdate({ yearsActive: e.target.value })}
                      placeholder="ex: 2015-pr√©sent ou 2010-2018"
                      disabled={!isEditing}
                      className="text-sm"
                    />
                  </div>
                  <div>
                    <Label className="text-xs">≈íuvres notables</Label>
                    <Textarea
                      value={client.notableWorks || ""}
                      onChange={(e) => onUpdate({ notableWorks: e.target.value })}
                      placeholder="Albums, singles, collaborations marquantes..."
                      disabled={!isEditing}
                      rows={2}
                      className="text-sm"
                    />
                  </div>
                  <div>
                    <Label className="text-xs">Prix et reconnaissances</Label>
                    <Textarea
                      value={client.awardsRecognition || ""}
                      onChange={(e) => onUpdate({ awardsRecognition: e.target.value })}
                      placeholder="Prix, nominations, distinctions..."
                      disabled={!isEditing}
                      rows={2}
                      className="text-sm"
                    />
                  </div>
                  <div>
                    <Label className="text-xs">Biographie</Label>
                    <Textarea
                      value={client.biography || ""}
                      onChange={(e) => onUpdate({ biography: e.target.value })}
                      placeholder="Histoire de l'artiste, parcours musical..."
                      disabled={!isEditing}
                      rows={4}
                      className="text-sm"
                    />
                  </div>
                </div>
              </div>
            </CardContent>
          </CollapsibleContent>
        </Card>
      </Collapsible>

      {/* Empty State - Quick Add Buttons (when no data and not editing) */}
      {!isEditing && (client.genres || []).length === 0 && (client.instruments || []).length === 0 && (
        <Card className="border-dashed">
          <CardContent className="py-6 text-center space-y-3">
            <p className="text-sm text-muted-foreground">
              Aucune information musicale renseign√©e
            </p>
            <div className="flex justify-center gap-2">
              <Button
                variant="outline"
                size="sm"
                onClick={() => onUpdate({ genres: [] })}
                className="gap-2"
              >
                <Plus className="h-4 w-4" />
                Ajouter genres
              </Button>
              <Button
                variant="outline"
                size="sm"
                onClick={() => onUpdate({ instruments: [] })}
                className="gap-2"
              >
                <Plus className="h-4 w-4" />
                Ajouter instruments
              </Button>
            </div>
          </CardContent>
        </Card>
      )}
    </div>
  );
}
```

Component follows EnrichedClientInfo pattern: separate component, controlled inputs, onUpdate callback, isEditing mode support.
  </action>
  <verify>
```bash
# Component file exists
ls packages/client/src/components/MusicProfileSection.tsx

# Contains MusicProfileSection export
grep "export function MusicProfileSection" packages/client/src/components/MusicProfileSection.tsx

# Uses MultiSelect component
grep "MultiSelect" packages/client/src/components/MusicProfileSection.tsx

# Uses music presets
grep "FLAT_GENRES.*FLAT_INSTRUMENTS" packages/client/src/components/MusicProfileSection.tsx

# Type check passes
cd packages/client && pnpm check
```
  </verify>
  <done>
- MusicProfileSection.tsx created with complete UI structure
- Component uses MultiSelect for genres and instruments
- Collapsible panel with localStorage state persistence
- 11 streaming platform inputs + "Other Platforms" textarea
- 5 industry contact fields
- 4 career info fields
- Empty state with quick-add buttons
- TypeScript compilation succeeds
- Component ready for integration
  </done>
</task>

</tasks>

<verification>
**Component Rendering:**
```bash
# Build client package
cd packages/client && pnpm build

# No build errors
echo $?
# Expected: 0

# Start dev server and check component in browser
pnpm dev
# Visit http://localhost:5174/clients/1 (any existing client)
```

**Multi-Select Functionality:**
- Genre multi-select shows preset genres and allows custom entries
- Instrument multi-select shows preset instruments and allows custom entries
- Selected badges display with icons
- Panel expands/collapses smoothly
- Panel state persists in localStorage across page refreshes

**Visual Design:**
- Genre badges have Music icon (üéµ)
- Instrument badges have Guitar icon (üé∏)
- Sections have clear visual hierarchy
- Empty state shows quick-add buttons
</verification>

<success_criteria>
**Measurable Completion:**
- [x] MultiSelect component installed and working
- [x] music-presets.ts contains 17 genre categories + 13 instrument families
- [x] MusicProfileSection.tsx created with 300+ lines
- [x] Component uses controlled inputs with onUpdate callback
- [x] Collapsible panel with localStorage persistence
- [x] 11 streaming platforms + 5 industry contacts + 4 career fields
- [x] Empty state with quick-add buttons
- [x] `pnpm build` succeeds with 0 errors
- [x] Component follows EnrichedClientInfo pattern

**Goal-backward verification:**
Can answer YES to all:
1. Can I select multiple genres from presets? (YES = MultiSelect with FLAT_GENRES working)
2. Can I add custom genres not in preset list? (YES = creatable prop on MultiSelect)
3. Does panel state persist after page refresh? (YES = localStorage.getItem/setItem)
4. Are genres and instruments visually distinct? (YES = separate rows with icons)
5. Can I collapse detailed info when not needed? (YES = Collapsible with ChevronDown/Up)
</success_criteria>

<output>
After completion, create `.planning/phases/18.4-music-profile-for-artists/18.4-02-SUMMARY.md` documenting:
- Component structure (main view vs expandable panel)
- Multi-select implementation (shadcn component used)
- Preset data organization (17 genres, 13 instruments)
- localStorage persistence pattern
- Visual design choices (icons, badges, collapsible)
- Any deviations from plan or UI adjustments made
</output>
