---
phase: 3.11-rangement-et-nettoyage-du-dossier
plan: 04
type: execute
---

<objective>
Audit complet et nettoyage du dossier racine recording-studio-manager-hybrid - identifier et supprimer fichiers obsolètes, temporaires, et documentation dépassée.

Purpose: Nettoyer l'ensemble du projet (pas seulement .planning/), supprimer les fichiers inutiles, organiser la documentation, maintenir un espace de travail propre avant Phase 4 (Marketing).
Output: Dossier racine nettoyé, fichiers obsolètes supprimés, documentation organisée, rapport d'audit complet.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/3.11-rangement-et-nettoyage-du-dossier/3.11-01-SUMMARY.md
@.planning/phases/3.11-rangement-et-nettoyage-du-dossier/3.11-02-SUMMARY.md
@.planning/phases/3.11-rangement-et-nettoyage-du-dossier/3.11-03-SUMMARY.md

**Prior cleanup work:**
- Plan 01: Root directory (32 PNG screenshots removed, 9MB freed)
- Plan 02: Git housekeeping (planning docs committed, .gitignore validated)
- Plan 03: .planning/ structure (Phase 3.9.4 duplicate resolved)

**Current state (from ls -lah root):**
- 80 items at root level (files + directories)
- Fichiers suspects identifiés:
  - Documentation MD multiple (AI_ACTIONS_VALIDATION.md, DOCKER.md, INTEGRATION_VCARD.md, MIGRATION_PLAN_TALENTS.md, PHASE_2_CHATBOT_AI.md, REDIS_SETUP.md, ROADMAP.md, STATUS_CURRENT.md, TEST_RESULTS_PHASE_2.5.md)
  - Scripts JS temporaires (create-booking-and-get-checkout.mjs, get-stripe-checkout-url.mjs, hash-password.mjs)
  - Tests Playwright à la racine (test-auth-final.spec.ts, test-auth-login.spec.ts)
  - Fichiers .env multiples (.env, .env.example, .env.production.example, .env.production.local, .env.test)
  - Dossiers: .auto-claude, .playwright-mcp, playwright-report, screenshots, scripts, docs

**Objectif:** Identifier TOUS les fichiers obsolètes/temporaires dans TOUT le projet, pas juste la racine.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit complet du dossier racine</name>
  <files>.</files>
  <action>
Faire un audit systématique de TOUS les fichiers et dossiers à la racine du projet.

Catégoriser chaque item:

**1. Fichiers de documentation (.md):**
```bash
ls -lh *.md 2>/dev/null
```

Pour chaque fichier MD, déterminer:
- Est-il obsolète ? (info dépassée, référence à code supprimé)
- Est-il redondant ? (info déjà dans .planning/ ou CLAUDE.md)
- Doit-il être déplacé dans .planning/docs/ ou docs/ ?
- Doit-il être gardé à la racine ? (README.md, CLAUDE.md)

**2. Scripts temporaires (.mjs, .js, .ts à la racine):**
```bash
ls -lh *.{mjs,js,ts} 2>/dev/null | grep -v ".config"
```

Pour chaque script:
- Est-il encore utilisé ?
- Doit-il être dans scripts/ ?
- Peut-il être supprimé ?

**3. Fichiers de configuration multiples:**
```bash
ls -lah .env* docker-compose*.yml
```

Pour chaque config:
- Est-elle utilisée en prod/dev ?
- Y a-t-il des doublons ?
- Lesquelles garder ?

**4. Dossiers suspects:**
```bash
du -sh .auto-claude .playwright-mcp playwright-report screenshots scripts docs
```

Pour chaque dossier:
- Contenu obsolète ?
- Peut être supprimé ?
- Doit être organisé différemment ?

**5. Fichiers temporaires/cache:**
```bash
find . -maxdepth 1 -type f -name "*.log" -o -name "*.tmp" -o -name "*.cache"
find . -maxdepth 1 -name ".DS_Store"
```

**6. Packages et dépendances:**
```bash
# Vérifier les packages inutilisés
cd packages/ && ls -d */
# Vérifier node_modules à la racine (normal pour workspace)
```

Créer un rapport d'audit catégorisé avec recommandations pour chaque fichier/dossier.
  </action>
  <verify>
Rapport d'audit créé listant:
- Fichiers à supprimer (avec raison)
- Fichiers à déplacer (avec destination)
- Fichiers à conserver (avec justification)
- Estimation de l'espace à libérer
  </verify>
  <done>Audit complet terminé, rapport généré</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Rapport d'audit complet du dossier recording-studio-manager-hybrid</what-built>
  <how-to-verify>
Vérifier le rapport d'audit généré:
- Catégories claires (À supprimer / À déplacer / À conserver)
- Recommandations justifiées pour chaque fichier
- Estimation de l'espace libéré
- Aucun fichier critique marqué pour suppression

Confirmer que les recommandations sont correctes avant nettoyage.
  </how-to-verify>
  <resume-signal>Type "approved" pour procéder au nettoyage, ou "modify" pour ajuster les recommandations</resume-signal>
</task>

<task type="auto">
  <name>Task 2: Nettoyage basé sur l'audit approuvé</name>
  <files>.</files>
  <action>
Exécuter le nettoyage selon le rapport d'audit approuvé.

**Ordre d'exécution:**

1. **Supprimer les fichiers obsolètes:**
```bash
# Supprimer fichiers identifiés comme obsolètes
# (liste spécifique basée sur audit approuvé)
```

2. **Déplacer la documentation:**
```bash
# Créer .planning/docs/ si nécessaire
mkdir -p .planning/docs/

# Déplacer fichiers MD obsolètes vers .planning/docs/archive/
mkdir -p .planning/docs/archive/
# mv [fichiers MD obsolètes] .planning/docs/archive/
```

3. **Organiser les scripts:**
```bash
# Déplacer scripts temporaires vers scripts/ ou supprimer
# mv [scripts temporaires] scripts/ OU rm [scripts obsolètes]
```

4. **Nettoyer les dossiers:**
```bash
# Supprimer dossiers temporaires/obsolètes
# rm -rf [dossiers identifiés]
```

5. **Nettoyer fichiers système:**
```bash
# Supprimer .DS_Store si présents
find . -name ".DS_Store" -delete
```

6. **Calculer l'espace libéré:**
```bash
# Comparer taille avant/après
du -sh .
```

Documenter chaque opération dans le summary.
  </action>
  <verify>
- Tous les fichiers obsolètes supprimés
- Documentation organisée dans .planning/docs/
- Scripts organisés dans scripts/ ou supprimés
- Dossiers temporaires supprimés
- Espace disque libéré (calculé)
- Aucun fichier critique supprimé par erreur
  </verify>
  <done>Nettoyage complet terminé, espace libéré calculé</done>
</task>

<task type="auto">
  <name>Task 3: Mise à jour .gitignore pour prévenir accumulation future</name>
  <files>.gitignore</files>
  <action>
Ajouter patterns à .gitignore pour éviter l'accumulation future de fichiers temporaires:

```bash
# Vérifier patterns manquants
cat .gitignore

# Ajouter si nécessaire:
# - *.log (fichiers de log)
# - *.tmp (fichiers temporaires)
# - .DS_Store (macOS)
# - *.mjs (scripts temporaires racine - sauf configs)
# - playwright-report/ (rapports Playwright)
# - test-results/ (résultats de tests)
```

Valider avec git status que les nouveaux patterns fonctionnent.
  </action>
  <verify>
.gitignore mis à jour avec patterns préventifs
git status ne montre pas de fichiers temporaires non-trackés
  </verify>
  <done>.gitignore mis à jour, prévention future configurée</done>
</task>

</tasks>

<verification>
Avant de déclarer le plan complet:
- [ ] Audit complet du dossier racine effectué
- [ ] Rapport d'audit approuvé par l'utilisateur
- [ ] Fichiers obsolètes supprimés (avec liste)
- [ ] Documentation organisée (.planning/docs/)
- [ ] Scripts organisés (scripts/ ou supprimés)
- [ ] Dossiers temporaires supprimés
- [ ] Espace disque libéré (calculé et documenté)
- [ ] .gitignore mis à jour pour prévention future
- [ ] Aucun fichier critique supprimé
- [ ] Dossier racine propre et organisé
</verification>

<success_criteria>
- Tous les 3 tasks complétés
- Audit complet documenté avec catégorisation claire
- Nettoyage exécuté selon recommandations approuvées
- Espace disque significatif libéré (>10MB minimum)
- Documentation organisée dans structure claire
- .gitignore mis à jour pour prévenir accumulation future
- Dossier racine professionnel et maintenable
- Baseline propre pour Phase 4 (Marketing Foundation)
</success_criteria>

<output>
After completion, create `.planning/phases/3.11-rangement-et-nettoyage-du-dossier/3.11-04-SUMMARY.md`:

# Phase 3.11 Plan 04: Audit et Nettoyage Complet du Projet Summary

**Dossier racine recording-studio-manager-hybrid audité et nettoyé - [X]MB libérés, documentation organisée**

## Performance

- **Duration:** [time]
- **Started:** [ISO timestamp]
- **Completed:** [ISO timestamp]
- **Tasks:** 3
- **Files removed:** [count]
- **Space freed:** [size in MB]

## Accomplishments

- Audit complet de 80+ items à la racine du projet
- [X] fichiers obsolètes supprimés ([list categories])
- Documentation organisée dans .planning/docs/
- Scripts temporaires nettoyés
- [X]MB d'espace disque libéré
- .gitignore mis à jour pour prévention future

## Files Created/Modified

### Supprimés
- [List files removed with reason]

### Déplacés
- [List files moved with new location]

### Conservés (justification)
- README.md - Documentation principale projet
- CLAUDE.md - Instructions pour Claude Code
- package.json, pnpm-workspace.yaml - Configuration workspace
- docker-compose.yml - Configuration Docker principale
- etc.

## Audit Findings

**Catégories identifiées:**
1. Documentation obsolète: [X] fichiers ([list])
2. Scripts temporaires: [X] fichiers ([list])
3. Fichiers de test hors e2e/: [X] fichiers ([list])
4. Dossiers temporaires: [X] dossiers ([list])
5. Fichiers système: [X] fichiers (.DS_Store, etc.)

**Recommandations appliquées:**
- [Summary of cleanup actions]

## Decisions Made

- Décision de garder/supprimer chaque catégorie de fichiers
- Organisation de la documentation dans .planning/docs/
- Patterns .gitignore ajoutés pour prévention

## Deviations from Plan

[If any]

## Issues Encountered

[If any]

## Next Phase Readiness

**Phase 3.11 TERMINÉ** - Projet complètement nettoyé et organisé

Ready for Phase 4 (Marketing Foundation):
- Dossier racine propre et professionnel
- Documentation organisée et accessible
- Espace disque optimisé
- Structure maintenable et claire

---
*Phase: 3.11-rangement-et-nettoyage-du-dossier*
*Completed: [date]*
</output>
