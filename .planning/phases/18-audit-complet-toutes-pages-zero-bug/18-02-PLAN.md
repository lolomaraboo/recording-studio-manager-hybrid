---
phase: 18-audit-complet-toutes-pages-zero-bug
plan: 18-02
type: plan
status: approved
---

# Phase 18-02 Plan: Execute Manual Tests with MCP Chrome

## Objective

Systematically test all 58 pages of the application using manual testing with MCP Chrome DevTools, documenting every bug found.

**Deliverable:** Complete TEST-MATRIX.md with all pages tested, all bugs documented

## Context

Plan 18-01 created comprehensive testing infrastructure (TEST-MATRIX.md with 58 pages, 27 checks per page = 1,566 total validations).

Plan 18-02 executes the testing systematically, page by page, section by section, with zero-bug quality criteria.

**Testing Order:**
1. Admin Dashboard (44 pages) - Most critical, most features
2. Client Portal (7 pages) - Customer-facing, high priority
3. Super Admin (4 pages) - Internal tools
4. Public/Auth (4 pages) - Entry points

## Success Criteria

- [x] All 58 pages tested (or marked N/A if page doesn't exist)
- [x] Every bug documented in TEST-MATRIX.md with severity (P0/P1/P2/P3)
- [x] Screenshots captured for visual bugs
- [x] Console errors copied for technical bugs
- [x] Matrix updated with PASS/FAIL status for each page
- [x] Progress committed regularly (every 5-10 pages)

## Tasks

### Task 1: Environment Setup (5 min)

**Prepare testing environment:**

1. **Browser Setup**
   ```bash
   # Open Chrome in incognito mode (fresh state)
   # Clear all site data if needed
   ```

2. **Login to Application**
   - Navigate to http://localhost:5174 (or production URL)
   - Login: `admin@test-studio-ui.com` / `password`
   - Organization: Test Studio UI (ID: 16)

3. **DevTools Configuration**
   - Open DevTools (F12 or Cmd+Option+I)
   - Console tab: Enable "Preserve log"
   - Network tab: Enable "Preserve log"
   - Responsive mode: Start with 1920×1080

4. **Open TEST-MATRIX.md**
   - Keep open in editor for real-time updates
   - Bookmark sections for quick navigation

### Task 2: Test Admin Dashboard (44 pages) - Estimated 1-2 days

**Testing Strategy:**
- Test pages in logical groups (Clients, Sessions, Projects, etc.)
- Complete all CRUD operations for each entity
- Test workflows within each section before moving to next

**Page Groups:**

**Group 1: Core Entities (20 pages)**
1. Dashboard
2-5. Clients (List, Detail, Create, Edit)
6-9. Sessions (List, Detail, Create, Edit)
10-14. Projects (List, Detail, Create) + Tracks (List, Detail, Upload)

**Group 2: v4.0 Features (10 pages)**
15-18. Quotes (List, Detail, Create, Edit)
19-22. Invoices (List, Detail, Create, Auto-Generate)
23-25. Time Tracking (Timer, History, Manual Entry)

**Group 3: Reports & Analytics (4 pages)**
26-28. Reports (Financial, Sessions, Clients)
29. Analytics

**Group 4: Configuration (10 pages)**
30-31. Team (List, Invite)
32-34. Rooms (List, Create, Edit)
35-37. Equipment (List, Create, Edit)
38-40. Service Catalog (List, Create, Edit)
41. Settings

**Group 5: Features (3 pages)**
42. Notifications Center
43. AI Chat
44. Command Palette (Cmd+K)

**For EACH page:**

1. **Navigate to page**
   - Verify URL is correct
   - Check page loads without console errors

2. **Validate Functionality (A) - 9 checks**
   - [ ] Page loads without errors
   - [ ] Data displays correctly
   - [ ] Create works (if applicable)
   - [ ] Read works (detail view)
   - [ ] Update works (edit form)
   - [ ] Delete works (with confirmation)
   - [ ] Search/Filter works
   - [ ] Pagination works
   - [ ] Sort works

3. **Validate UI/UX (B) - 10 checks**
   - [ ] Icon is text-primary (h-8 w-8)
   - [ ] Container spacing (pt-2 pb-4 px-2)
   - [ ] Card headers pb-3
   - [ ] Buttons accessible
   - [ ] Loading states present
   - [ ] Empty states informative
   - [ ] Error messages clear
   - [ ] Form validation works
   - [ ] Responsive at 375px
   - [ ] Dark mode works

4. **Validate Interactions (C) - 8 checks**
   - [ ] All buttons clickable
   - [ ] All links navigate
   - [ ] All modals open/close
   - [ ] All dropdowns populate
   - [ ] All forms accept input
   - [ ] Tables scrollable
   - [ ] Tooltips show
   - [ ] Keyboard shortcuts work

5. **Document Results**
   - If ✅ PASS: Update matrix with ✅
   - If ❌ FAIL: Create BUG-XXX entry, update matrix with ❌

6. **Commit Progress**
   ```bash
   git add .planning/phases/18-audit-complet-toutes-pages-zero-bug/TEST-MATRIX.md
   git commit -m "test(18-02): validate [Page Name] - [PASS/FAIL]"
   ```

**Special Attention:**

**NEW v4.0 Features (must work flawlessly):**
- Quotes (List, Create, Send, Accept, Convert to Project)
- Time Tracking (Timer start/stop, Manual entry, History)
- Invoice Auto-Generate (From time entries)
- Service Catalog (Quick add to quotes)
- Client Portal Payment (Stripe Checkout flow)

**Known Complex Pages:**
- Clients Detail (vCard enrichment, multi-tab form)
- Tracks Detail (Audio player, 4 versions, metadata)
- AI Chat (37 tools, SSE streaming, cache invalidation)
- Command Palette (Global search, keyboard shortcuts)

### Task 3: Test Client Portal (7 pages) - Estimated 3-4 hours

**Client Portal Testing:**

1. **Logout from Admin**
2. **Navigate to `/client-portal/login`**
3. **Test Client Portal Authentication**
   - Email/password login
   - Magic link (if functional)
   - Password reset flow

4. **Login as Test Client**
   - Use credentials from e2e/global-setup or create new test client

5. **Test Each Portal Page:**
   - 45. Client Login
   - 46. Client Dashboard
   - 47. Client Invoices - List
   - 48. Client Invoices - Detail
   - 49. Client Invoice - Payment (Stripe Checkout)
   - 50. Client Profile
   - 51. Client Activity Logs

**Critical Test: Invoice Payment Flow (NEW v4.0)**
- Admin creates invoice for test client
- Client logs in
- Client sees invoice in list
- Client clicks invoice detail
- **Pay Now button displays** (verify it exists!)
- Click Pay Now → Redirects to Stripe Checkout
- Enter test card: `4242 4242 4242 4242`
- Complete payment
- Redirect to success page
- Verify invoice status updates to PAID

### Task 4: Test Super Admin (4 pages) - Estimated 1-2 hours

**Super Admin Testing:**

1. **Login as Super Admin**
   - Email must match `SUPERADMIN_EMAIL` env var
   - Or use dedicated super admin account

2. **Test Super Admin Pages:**
   - 52. Services Monitoring (Docker containers status)
   - 53. Database Management (Organizations, Users, Tenant DBs)
   - 54. System Logs (Application logs viewer)
   - 55. User Management (if page exists)

**Critical Validations:**
- Container status displays correctly (rsm-server, rsm-client, rsm-postgres, rsm-redis, qdrant)
- Database queries work (list orgs, list users)
- Logs are readable and filterable
- No sensitive data exposed (passwords filtered)

### Task 5: Test Public/Auth (4 pages) - Estimated 1 hour

**Public/Auth Testing:**

1. **Logout completely**
2. **Test each auth flow:**
   - 56. Public Landing Page (if exists)
   - 57. Signup (new user registration)
   - 58. Login (Admin) (re-test login flow)
   - 59. Password Reset (forgot password flow)

**Signup Flow Validation:**
- Form validation works
- Password confirmation matches
- Email uniqueness check
- Successful signup creates user + organization + tenant DB
- Auto-login after signup (or redirect to login)

### Task 6: Test End-to-End Workflows (4 workflows) - Estimated 2-3 hours

**After all individual pages tested, validate complete workflows:**

**Workflow 1: Quote to Invoice (NEW v4.0)**
1. Create client: "E2E Workflow Test Client"
2. Create quote with 3 line items from service catalog
3. Send quote (status: SENT)
4. Accept quote (status: ACCEPTED)
5. Convert quote to project
6. Navigate to Time Tracking
7. Start timer on project task (Recording)
8. Work for 2 minutes
9. Stop timer
10. Generate invoice from time entries
11. Verify invoice created with correct line items
12. Client receives invoice (check email if configured)
13. Client portal: Client sees invoice
14. Client pays invoice via Stripe test card
15. Invoice status updates to PAID

**Workflow 2: Session Booking to Payment**
1. Client portal: Login
2. View available sessions (if booking calendar exists)
3. Book session (or admin creates session for client)
4. Admin confirms session
5. Session occurs (mark as completed)
6. Admin generates invoice for session
7. Client receives notification
8. Client pays invoice online
9. Payment confirmed, invoice marked PAID

**Workflow 3: Project Management Full Cycle**
1. Create client: "Music Artist"
2. Create project: "Album Recording"
3. Upload track: "Track 01.wav"
4. Add metadata (Phase 5 enrichment: copyright, ISRC, etc.)
5. Generate different versions (demo, rough, final, master)
6. Download each version, verify files
7. Share track with client (if sharing feature exists)
8. Client views track in portal (audio player works)
9. Client approves track
10. Generate final invoice for project
11. Client pays invoice

**Workflow 4: AI Assistant (37 Tools)**
1. Open AI chat (`Cmd+K` or navigate to `/chat`)
2. Create client via AI: "Create a client named John Studio"
3. Verify client appears in list (cache invalidation)
4. Schedule session via AI: "Schedule a recording session tomorrow at 2pm"
5. Verify session created
6. Generate invoice via AI: "Generate an invoice for John Studio"
7. Verify invoice created
8. Ask for analytics: "What's my revenue this month?"
9. Verify AI returns accurate data

### Task 7: Mobile Testing (Selective) - Estimated 2-3 hours

**After all desktop tests pass, test critical pages on mobile:**

1. **Set viewport to 375px × 667px (iPhone SE)**
2. **Test 10-15 most important pages:**
   - Dashboard
   - Clients List
   - Client Detail
   - Session Create
   - Quote Create
   - Invoice Detail
   - Time Tracking Timer
   - Client Portal Dashboard
   - Client Portal Invoice Payment

3. **Focus on:**
   - Touch targets (buttons ≥44px)
   - Scrolling (no horizontal overflow)
   - Forms (inputs not hidden under keyboard)
   - Modals (fit on screen)
   - Tables (scrollable or stacked)

### Task 8: Dark Mode Testing (Selective) - Estimated 1-2 hours

**Toggle dark mode and re-test 10-15 critical pages:**

1. **Enable dark mode in settings**
2. **Test same pages as mobile**
3. **Look for:**
   - White text on white background
   - Black text on black background
   - Unreadable contrast
   - Missing background colors
   - Broken theming

### Task 9: Update TEST-MATRIX.md Summary

**After all testing complete, update summary section:**

```markdown
## Summary Statistics

**Testing Progress:**
- Pages tested: X/58 (Y%)
- Pages passing: X
- Pages failing: X
- Pages N/A: X

**Bug Statistics:**
- P0 bugs: X
- P1 bugs: X
- P2 bugs: X
- P3 bugs: X
- **Total bugs:** X

**Phase 18 Status:**
- ✅/❌ COMPLETE (P0/P1/P2 must be 0)
- Blocking bugs: [list if any]
- Estimated fix time: X hours
```

## Timeline Estimate

- Task 1 (Setup): 5 min
- Task 2 (Admin 44 pages): 1-2 days (20-30 min per page avg)
- Task 3 (Client Portal 7 pages): 3-4 hours
- Task 4 (Super Admin 4 pages): 1-2 hours
- Task 5 (Public/Auth 4 pages): 1 hour
- Task 6 (E2E Workflows): 2-3 hours
- Task 7 (Mobile): 2-3 hours
- Task 8 (Dark Mode): 1-2 hours
- Task 9 (Summary): 10 min

**Total:** 2-3 days (intensive testing)

## Bug Documentation Template

**When bug found:**

```markdown
## BUG-XXX: [Page Name] - Short Description

**Severity:** P0 / P1 / P2 / P3
**Location:** /route/path
**Component:** ComponentName.tsx

**Steps to Reproduce:**
1. Go to...
2. Click...
3. Observe...

**Expected:**
[What should happen]

**Actual:**
[What actually happens]

**Console Error:**
```
[Paste error from console]
```

**Screenshot:** bug-XXX-description.png

**Related:** BUG-YYY (if applicable)
```

## Commit Strategy

**Commit progress frequently (every 5-10 pages):**

```bash
# After testing a group of pages
git add .planning/phases/18-audit-complet-toutes-pages-zero-bug/TEST-MATRIX.md
git commit -m "test(18-02): validate Admin Dashboard Group 1 - 15/20 PASS, 5 bugs found"

# After completing a section
git commit -m "test(18-02): complete Client Portal testing - 6/7 PASS, BUG-025 found"

# After all testing complete
git commit -m "test(18-02): complete all 58 pages testing - X bugs found (P0: Y, P1: Z, P2: W)"
```

## Next Steps

After Plan 18-02 complete:

1. **Review bug list**
   - Count P0/P1/P2/P3 bugs
   - Assess fix complexity
   - Prioritize P0 > P1 > P2

2. **Create Plan 18-03**
   - Fix all P0/P1/P2 bugs (zero-bug requirement)
   - Verify fixes don't introduce regressions
   - Re-test affected pages

3. **Phase 18 Complete**
   - When P0/P1/P2 = 0
   - All 58 pages validated
   - Production-ready quality achieved
   - Ready for v1.0 Marketing Launch

## Notes

- **Page doesn't exist?** Mark as "N/A - Page inexistante" and document what's missing
- **Found duplicate bug?** Reference original (ex: "Same as BUG-001")
- **Unsure of severity?** Default to higher priority, can downgrade later
- **Found P0/P1?** Alert immediately, consider creating fix plan before continuing all tests
- **Taking screenshots?** Save in `.planning/phases/18-audit-complet-toutes-pages-zero-bug/screenshots/`
