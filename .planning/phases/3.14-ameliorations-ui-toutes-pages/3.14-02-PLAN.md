---
phase: 3.14-ameliorations-ui-toutes-pages
plan: 02
type: execute
---

<objective>
Harmoniser l'UI de 20 pages Admin Dashboard (Part 1) selon UI-DESIGN-GUIDELINES.md - structure containers, espaces, icônes.

Purpose: Appliquer systématiquement les patterns établis (Dashboard/Sessions comme référence) pour cohérence visuelle maximale.
Output: 20 pages harmonisées avec structure standardisée, build production réussi, commit plan 02.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/UI-DESIGN-GUIDELINES.md
@packages/client/src/pages/Dashboard.tsx
@packages/client/src/pages/Sessions.tsx

**Références établies:**
- Dashboard.tsx et Sessions.tsx = templates de référence (✅ déjà harmonisés)
- UI-DESIGN-GUIDELINES.md = patterns à appliquer systématiquement

**Patterns à appliquer (de la guideline):**

1. **Structure container standard:**
   ```tsx
   <div className="container pt-2 pb-4 px-2">
     <div className="space-y-2">
       {/* Header */}
       <div className="flex items-center justify-between">
         <h2 className="text-3xl font-bold flex items-center gap-2">
           <Icon className="h-8 w-8 text-primary" />
           Titre Page
         </h2>
         {/* Boutons actions */}
       </div>

       {/* Cards content */}
       <Card>...</Card>
     </div>
   </div>
   ```

2. **Icônes titre:**
   - TOUJOURS ajouter `text-primary` aux icônes de page title
   - Taille: `h-8 w-8`
   - Vérifier cohérence avec sidebar (Sidebar.tsx)

3. **Cards:**
   - CardHeader: `pb-3`
   - CardTitle: `text-base`
   - CardDescription: `text-sm`

4. **Empty states:**
   - Container: `py-6` (pas py-12)
   - Icône: `h-8 w-8 text-muted-foreground` (pas h-12)
   - Titre: `text-sm font-medium mb-1`
   - Description: `text-sm text-muted-foreground mb-3`
   - Bouton: `size="sm"`

5. **Anti-patterns à corriger:**
   - ❌ Remove wrappers `min-h-screen bg-background`
   - ❌ Remove header sticky séparé (intégrer dans container)
   - ❌ Remove double padding (gap-2 sur Layout, px-2 suffit)

**Stack technique:**
- React 19 + TypeScript strict
- TailwindCSS 4
- shadcn/ui components
- Dark mode support (utiliser `dark:` classes)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Harmoniser Clients pages (3 pages) + Projects pages (3 pages)</name>
  <files>
    packages/client/src/pages/Clients.tsx,
    packages/client/src/pages/ClientCreate.tsx,
    packages/client/src/pages/ClientDetail.tsx,
    packages/client/src/pages/Projects.tsx,
    packages/client/src/pages/ProjectCreate.tsx,
    packages/client/src/pages/ProjectDetail.tsx
  </files>
  <action>
    Pour chaque fichier:

    1. **Lire le fichier actuel** pour identifier les patterns non-conformes

    2. **Appliquer les modifications standardisées:**

       a) **Structure container:**
          - Remplacer wrapper `<div className="min-h-screen bg-background">` par `<>` fragment
          - Utiliser `<div className="container pt-2 pb-4 px-2">` direct
          - Ajouter `<div className="space-y-2">` pour spacing vertical

       b) **Icône titre de page:**
          - Ajouter `text-primary` à l'icône du h2 (ex: `<Users className="h-8 w-8 text-primary" />`)
          - Vérifier que l'icône match la sidebar (Clients = Users, Projects = FolderKanban)

       c) **Cards:**
          - CardHeader: ajouter `className="pb-3"`
          - CardTitle: ajouter `className="text-base"`
          - CardDescription: ajouter `className="text-sm"`

       d) **Empty states:**
          - Conteneur: `className="text-center py-6"` (pas py-12)
          - Icône: `className="h-8 w-8 text-muted-foreground mx-auto mb-2"` (pas h-12)
          - Titre: `className="text-sm font-medium mb-1"` (pas text-lg)
          - Description: `className="text-sm text-muted-foreground mb-3"`
          - Bouton: `size="sm"`

    3. **Préserver impérativement:**
       - Tests E2E selectors (data-testid, role, text content)
       - Dark mode classes (dark:*)
       - Responsive breakpoints (md:, lg:)
       - Fonctionnalité formulaires (validations, handlers)

    **Exemples de transformations:**

    AVANT (non-conforme):
    ```tsx
    <div className="min-h-screen bg-background">
      <main className="container py-8">
        <h2 className="text-3xl font-bold flex items-center gap-2">
          <Users className="h-8 w-8" />  {/* ❌ Manque text-primary */}
          Clients
        </h2>

        <Card>
          <CardHeader>  {/* ❌ Manque pb-3 */}
            <CardTitle>Liste</CardTitle>  {/* ❌ Manque text-base */}
          </CardHeader>
        </Card>

        <div className="text-center py-12">  {/* ❌ Trop d'espace */}
          <Users className="h-12 w-12 mx-auto mb-4" />  {/* ❌ Trop grand */}
        </div>
      </main>
    </div>
    ```

    APRÈS (conforme):
    ```tsx
    <>
      <div className="container pt-2 pb-4 px-2">
        <div className="space-y-2">
          <h2 className="text-3xl font-bold flex items-center gap-2">
            <Users className="h-8 w-8 text-primary" />  {/* ✅ text-primary */}
            Clients
          </h2>

          <Card>
            <CardHeader className="pb-3">  {/* ✅ pb-3 */}
              <CardTitle className="text-base">Liste</CardTitle>  {/* ✅ text-base */}
            </CardHeader>
          </Card>

          <div className="text-center py-6">  {/* ✅ py-6 */}
            <Users className="h-8 w-8 text-muted-foreground mx-auto mb-2" />  {/* ✅ h-8 */}
          </div>
        </div>
      </div>
    </>
    ```
  </action>
  <verify>
    - TypeScript compile sans erreurs: `pnpm --filter client check`
    - Build réussit: `pnpm --filter client build`
    - Vite HMR fonctionne en local (localhost:5174)
    - Pas de console errors
  </verify>
  <done>
    - 6 fichiers harmonisés (Clients 3 + Projects 3)
    - Patterns guideline appliqués à 100%
    - Build production OK
    - Aucune régression TypeScript
  </done>
</task>

<task type="auto">
  <name>Task 2: Harmoniser Invoices (3 pages) + Rooms (3 pages) + Equipment (3 pages)</name>
  <files>
    packages/client/src/pages/Invoices.tsx,
    packages/client/src/pages/InvoiceCreate.tsx,
    packages/client/src/pages/InvoiceDetail.tsx,
    packages/client/src/pages/Rooms.tsx,
    packages/client/src/pages/RoomCreate.tsx,
    packages/client/src/pages/RoomDetail.tsx,
    packages/client/src/pages/Equipment.tsx,
    packages/client/src/pages/EquipmentCreate.tsx,
    packages/client/src/pages/EquipmentDetail.tsx
  </files>
  <action>
    Workflow identique à Task 1:

    1. Lire chaque fichier
    2. Appliquer les 5 patterns de la guideline:
       - Structure container (pt-2 pb-4 px-2, space-y-2)
       - Icônes text-primary
       - Cards (pb-3, text-base)
       - Empty states (py-6, h-8)
       - Remove bg-background wrappers
    3. Vérifier cohérence icônes avec sidebar:
       - Invoices = FileText
       - Rooms = Building
       - Equipment = Wrench

    Préserver: Tests E2E, dark mode, responsive, formulaires.
  </action>
  <verify>
    - 9 fichiers modifiés compilent sans erreur
    - Build production réussit
    - Icônes synchronisées avec sidebar
    - Aucune régression fonctionnelle
  </verify>
  <done>
    - 9 fichiers harmonisés (Invoices 3 + Rooms 3 + Equipment 3)
    - Cohérence visuelle avec Dashboard/Sessions/Clients/Projects
    - 15 pages harmonisées au total (6 + 9)
  </done>
</task>

<task type="auto">
  <name>Task 3: Harmoniser Talents (3 pages) + Team (1 page) + Calendar (1 page)</name>
  <files>
    packages/client/src/pages/Talents.tsx,
    packages/client/src/pages/TalentCreate.tsx,
    packages/client/src/pages/TalentDetail.tsx,
    packages/client/src/pages/Team.tsx,
    packages/client/src/pages/Calendar.tsx
  </files>
  <action>
    Workflow identique:

    1. Lire les 5 fichiers
    2. Appliquer patterns guideline:
       - Container standard
       - Icônes text-primary (Talents = Users, Team = Users, Calendar = Calendar)
       - Cards compacts
       - Empty states réduits
    3. Vérifier synchronisation sidebar
    4. Build et validation

    Attention: Calendar peut avoir des widgets spécifiques (calendrier visuel) - préserver la logique métier.
  </action>
  <verify>
    - 5 fichiers compilent sans erreur
    - Build production OK
    - Calendar widgets toujours fonctionnels
    - Responsive préservé
  </verify>
  <done>
    - 5 fichiers harmonisés (Talents 3 + Team 1 + Calendar 1)
    - 20 pages harmonisées au total (15 + 5)
    - Plan 02 COMPLET
  </done>
</task>

</tasks>

<verification>
Avant de déclarer Plan 02 complet:

- [ ] 20 fichiers modifiés (Clients 3, Projects 3, Invoices 3, Rooms 3, Equipment 3, Talents 3, Team 1, Calendar 1)
- [ ] Patterns UI-DESIGN-GUIDELINES.md appliqués à 100%
- [ ] Build production réussit: `pnpm --filter client build`
- [ ] TypeScript 0 erreurs: `pnpm check`
- [ ] Icônes synchronisées avec sidebar
- [ ] Dark mode préservé (spot check sur 2-3 pages)
- [ ] Responsive préservé (spot check mobile)
</verification>

<success_criteria>

Plan 02 est complet quand:

- 20 pages Admin Dashboard Part 1 harmonisées
- Cohérence visuelle avec Dashboard/Sessions (références)
- Build production sans erreurs
- Aucune régression TypeScript
- Aucune régression fonctionnelle
- Dark mode et responsive préservés
- Commit créé avec résumé des améliorations
</success_criteria>

<output>
Après complétion, créer `.planning/phases/3.14-ameliorations-ui-toutes-pages/3.14-02-SUMMARY.md`:

# Phase 3.14 Plan 02: Harmonisation Admin Part 1 (20 pages) - Summary

**Patterns UI-DESIGN-GUIDELINES.md appliqués systématiquement à 20 pages Admin Dashboard**

## Accomplishments

- Harmonisé Clients (3 pages) + Projects (3 pages)
- Harmonisé Invoices (3 pages) + Rooms (3 pages) + Equipment (3 pages)
- Harmonisé Talents (3 pages) + Team (1) + Calendar (1)
- Total: 20 pages avec structure/espaces/icônes standardisés

## Files Created/Modified

- `packages/client/src/pages/Clients.tsx` - Container standard, icône Users text-primary
- `packages/client/src/pages/ClientCreate.tsx` - Cards pb-3, empty states py-6
- `packages/client/src/pages/ClientDetail.tsx` - Structure harmonisée
- [... 17 autres fichiers avec détails]

## Patterns appliqués

1. **Structure container:** pt-2 pb-4 px-2, space-y-2, remove bg-background
2. **Icônes titre:** text-primary ajouté (h-8 w-8)
3. **Cards:** pb-3, text-base pour CardTitle
4. **Empty states:** py-6, h-8 w-8 icônes
5. **Sidebar sync:** Icônes page = icônes sidebar (Users, FileText, Building, Wrench, Calendar)

## Decisions Made

- Préservé tous les tests E2E selectors
- Maintenu dark mode classes
- Conservé responsive breakpoints
- Aucune modification fonctionnelle (formulaires inchangés)

## Issues Encountered

None - Application mécanique des patterns guideline.

## Next Step

Ready for Plan 03: Harmonisation Admin Part 2 (17 pages)
</output>
