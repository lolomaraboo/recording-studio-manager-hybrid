---
phase: 3.4-comprehensive-site-testing
plan: 01
type: execute
---

<objective>
Tester EXHAUSTIVEMENT l'intégralité du site - chaque page, chaque fonction, chaque bouton, chaque workflow - et documenter toutes les erreurs trouvées AVANT de coder les fixes.

Purpose: Garantir une qualité production complète avant le lancement marketing (Phase 4). Approche systématique : tester → documenter → planifier → corriger (dans cet ordre).

Output:
- Document ERRORS-FOUND.md listant toutes les erreurs découvertes
- Document TEST-COVERAGE-MATRIX.md cartographiant toutes les fonctionnalités testées
- Priorisation des erreurs (P0/P1/P2/P3)
- Recommandations pour phases de correction
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/3.2-end-to-end-testing/3.2-01-SUMMARY.md

**Prior Testing Context:**

Phase 3.2 a créé 71 tests E2E couvrant les "critical paths":
- Navigation: 44 tests (toutes les 53 pages chargent sans erreur)
- Workflows: 5 tests (onboarding, booking, projects, billing, invoicing)
- Features: 13 tests (AI chatbot, command palette, global search)
- Auth: 7 tests (login, signup, validation)
- Infrastructure: 6 tests (HTTPS, CORS, API health)

**Ce qui N'A PAS été testé (Phase 3.2 deferred):**
- CRUD operations (Create/Read/Update/Delete) pour 11 entités
- ~200 interactions UI (buttons, modals, forms, tabs, dropdowns)
- Audio upload/playback/versioning
- Theme toggle (dark/light)
- Notification center (SSE stream)
- Edge cases et validation errors
- Client Portal workflows complets
- Tous les clics possibles sur toutes les pages

**Application Structure:**
- **Admin Dashboard:** 47 pages (voir liste complète dans pages/)
- **Client Portal:** 5 pages (booking, payments, projects, profile, activity)
- **11 Entités:** Clients, Sessions, Projects, Tracks, Rooms, Equipment, Invoices, Quotes, Contracts, Expenses, Talents
- **Advanced Features:** AI Chatbot (37 actions), Command Palette, Global Search, Audio Player, Notifications

**Phase 3.4 Goal:**
Tester TOUT ce qui a été deferred + validation exhaustive de l'expérience utilisateur complète.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Créer la matrice de couverture de tests</name>
  <files>.planning/phases/3.4-comprehensive-site-testing/TEST-COVERAGE-MATRIX.md</files>
  <action>
Créer un document exhaustif listant TOUTES les fonctionnalités à tester, organisé par catégorie:

**Structure du document:**

1. **Admin Pages (47 pages)** - Pour chaque page:
   - Page charge sans erreur (✅ déjà testé en 3.2)
   - Navigation fonctionnelle
   - Tous les boutons clickables
   - Tous les modals s'ouvrent/ferment
   - Tous les formulaires soumettent
   - Tous les liens fonctionnent
   - États vides (empty states)
   - États avec données

2. **CRUD Operations (11 entities × 4 operations = 44 tests)**
   - Clients: Create, Read (list + detail), Update, Delete
   - Sessions: Create, Read, Update, Delete
   - Projects: Create, Read, Update, Delete
   - Tracks: Create, Read, Update, Delete
   - Rooms: Create, Read, Update, Delete
   - Equipment: Create, Read, Update, Delete
   - Invoices: Create, Read, Update, Delete
   - Quotes: Create, Read, Update, Delete
   - Contracts: Create, Read, Update, Delete
   - Expenses: Create, Read, Update, Delete
   - Talents: Create, Read, Update, Delete

3. **UI Interactions (~200 items)**
   - Tous les buttons (estimate: ~50 buttons)
   - Tous les modals (estimate: ~30 modals)
   - Tous les forms (estimate: ~40 forms)
   - Tous les tabs (estimate: ~20 tab systems)
   - Tous les dropdowns/selects (estimate: ~40)
   - Tous les accordions/collapses (estimate: ~10)
   - Toutes les tooltips (estimate: ~10)

4. **Advanced Features**
   - AI Chatbot: 37 actions SSE streaming
   - Command Palette: navigation, actions, search
   - Global Search: multi-entity search
   - Audio Player: upload, play, pause, download, versioning
   - Notifications: SSE stream, mark as read, filters
   - Theme Toggle: dark/light mode persistence
   - Breadcrumbs: navigation correcte
   - Status Badges: affichage correct

5. **Client Portal (5 pages)**
   - Client login/logout
   - Booking workflow complet
   - Payment workflow (Stripe Checkout)
   - Projects access (view tracks, audio player)
   - Profile management
   - Activity logs

6. **Workflows End-to-End**
   - Onboarding complet nouveau studio
   - Booking: Client → Session → Payment → Confirmation
   - Project: Create → Add tracks → Upload audio → Version → Share
   - Billing: Quote → Invoice → Payment → Receipt
   - Contract: Create → Sign → Track milestones

7. **Validation & Error Handling**
   - Form validation (required fields, formats)
   - API error handling (404, 500, 401)
   - Network errors
   - Empty states
   - Loading states
   - Error boundaries

8. **Edge Cases**
   - Très longues listes (pagination)
   - Noms très longs (ellipsis)
   - Caractères spéciaux (émojis, accents)
   - Dates limites (passées, futures)
   - Permissions (accès refusé)
   - Concurrent modifications

**Format pour chaque item:**
- [ ] [Category] > [Feature] > [Action] - [Expected Behavior]

Utiliser checkbox `[ ]` pour items non testés, `[✅]` pour testés et OK, `[❌]` pour erreur trouvée.
  </action>
  <verify>Document existe avec ~500+ items organisés par catégorie</verify>
  <done>Matrice complète créée listant toutes les fonctionnalités à tester</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Matrice de couverture de tests exhaustive (TEST-COVERAGE-MATRIX.md)</what-built>
  <how-to-verify>
    1. Ouvrir: .planning/phases/3.4-comprehensive-site-testing/TEST-COVERAGE-MATRIX.md
    2. Vérifier: Toutes les catégories sont présentes (8 sections)
    3. Vérifier: ~500+ items listés avec checkboxes
    4. Vérifier: Organisation claire et logique
    5. Confirmer: Rien de manqué ? Ajouts nécessaires ?
  </how-to-verify>
  <resume-signal>Type "approved" pour continuer, ou liste les ajouts à faire</resume-signal>
</task>

<task type="auto">
  <name>Task 2: Configurer l'approche MCP Chrome DevTools</name>
  <files>.planning/phases/3.4-comprehensive-site-testing/MCP-TESTING-PROTOCOL.md</files>
  <action>
Créer un protocole détaillé pour tester avec MCP Chrome DevTools.

**Approche choisie:** MCP Chrome DevTools pour tests exhaustifs interactifs

**Pourquoi MCP Chrome DevTools:**
- Permet de naviguer le site réel en production
- Interaction directe avec l'UI (clics, formulaires, modals)
- Capture screenshots automatique
- Inspection console errors en temps réel
- Liste network requests (API calls, 401 errors, etc.)
- Évaluation JavaScript pour vérifier états
- Parfait pour validation UX complète

**Protocole de test MCP:**

1. **Ouvrir page dans Chrome MCP**
   ```
   mcp__chrome-devtools__navigate_page({url: "https://recording-studio-manager.com/dashboard"})
   ```

2. **Prendre snapshot de la page**
   ```
   mcp__chrome-devtools__take_snapshot()
   ```
   - Lister tous les éléments interactifs (buttons, links, forms)
   - Identifier les UIDs pour interaction

3. **Tester chaque élément interactif**
   ```
   mcp__chrome-devtools__click({uid: "button-uid"})
   ```
   - Vérifier comportement attendu
   - Capturer console errors
   - Prendre screenshot si erreur

4. **Vérifier console errors**
   ```
   mcp__chrome-devtools__list_console_messages()
   ```
   - Documenter tous les errors/warnings
   - Vérifier network requests 401/500

5. **Tester formulaires**
   ```
   mcp__chrome-devtools__fill_form([{uid: "...", value: "..."}])
   mcp__chrome-devtools__click({uid: "submit-button"})
   ```
   - Validation errors
   - Success/error states

6. **Capturer screenshot pour documentation**
   ```
   mcp__chrome-devtools__take_screenshot({filePath: "errors/page-name-error.png"})
   ```

**Template de documentation d'erreur:**

```markdown
## Erreur #N: [Titre court]

**Page:** [URL]
**Sévérité:** P0/P1/P2/P3
**Type:** UI Bug / API Error / Validation / Performance / UX Issue

**Steps to reproduce:**
1. Navigate to [URL]
2. Click [element]
3. Observe [error]

**Expected behavior:**
[Ce qui devrait se passer]

**Actual behavior:**
[Ce qui se passe réellement]

**Console errors:**
```
[Copier les erreurs console]
```

**Screenshot:**
![Error screenshot](./errors/error-N.png)

**Priority:**
- P0: Bloquant (crash, 500 error, fonctionnalité cassée)
- P1: Critique (UX dégradée, erreur visible user)
- P2: Important (edge case, validation manquante)
- P3: Nice to have (polish, amélioration)
```

**Workflow de testing systématique:**

Pour chaque page dans TEST-COVERAGE-MATRIX.md:
1. Navigate to page
2. Take snapshot → List all interactive elements
3. For each element:
   - Click/interact
   - Check console errors
   - Verify expected behavior
   - Document si erreur trouvée
4. Take screenshot de la page complète
5. Move to next page

**Organisation des fichiers:**
```
.planning/phases/3.4-comprehensive-site-testing/
├── TEST-COVERAGE-MATRIX.md (checklist ~500 items)
├── MCP-TESTING-PROTOCOL.md (ce fichier)
├── ERRORS-FOUND.md (toutes les erreurs documentées)
├── errors/
│   ├── error-001-dashboard-crash.png
│   ├── error-002-modal-not-closing.png
│   └── ... (screenshots d'erreurs)
└── screenshots/
    ├── dashboard.png
    ├── clients-list.png
    └── ... (screenshots de toutes les pages)
```
  </action>
  <verify>Document MCP-TESTING-PROTOCOL.md créé avec protocole détaillé</verify>
  <done>Protocole MCP Chrome DevTools documenté et prêt à utiliser</done>
</task>

</tasks>

<verification>
Avant de déclarer le plan complet:
- [ ] Matrice de couverture créée et approuvée
- [ ] Approche de testing choisie
- [ ] Prêt à commencer les tests (phase suivante)
</verification>

<success_criteria>

- Matrice TEST-COVERAGE-MATRIX.md créée avec ~500+ items
- User a validé que la matrice est complète
- Approche de testing décidée (automated/manual/hybrid)
- Phase 3.4-02 peut commencer les tests effectifs
</success_criteria>

<output>
After completion, create `.planning/phases/3.4-comprehensive-site-testing/3.4-01-SUMMARY.md`:

# Phase 3.4-01: Comprehensive Site Testing - Planning Summary

**[Substantive one-liner]**

## Accomplishments

- Created exhaustive test coverage matrix (~500+ items)
- User validated matrix completeness
- Selected testing approach: [automated/manual/hybrid]

## Files Created/Modified

- `.planning/phases/3.4-comprehensive-site-testing/TEST-COVERAGE-MATRIX.md` - Complete test inventory
- `.planning/phases/3.4-comprehensive-site-testing/3.4-01-SUMMARY.md` - This file

## Decisions Made

- Testing approach: [Choice + rationale]
- Coverage scope: [Items included/excluded]

## Issues Encountered

[None expected - planning phase]

## Next Step

Ready for 3.4-02-PLAN.md: Execute testing based on chosen approach
</output>
